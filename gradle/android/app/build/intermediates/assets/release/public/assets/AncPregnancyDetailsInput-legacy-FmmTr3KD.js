System.register(["./FieldMixin.vue_vue_type_script_lang-legacy-Cu6Twhoz.js","./ViewPort-legacy-vAtaXxEN.js","./index-legacy-Ezw3ESUe.js","./SIngleTouchField-legacy-bp3msIa4.js","./dynamic-import-helper-legacy-BhGHTWZn.js"],(function(e,l){"use strict";var t,a,i,n,o,d,s,u,c,r,h,p,m,f,y,_,b,v,w,k,g,x,V,F,C,T,D,I,M,E,R;return{setters:[e=>{t=e._},e=>{a=e.V},e=>{i=e.d,n=e.k,o=e.b8,d=e.cr,s=e.cu,u=e.ai,c=e.ak,r=e.aj,h=e.ce,p=e.cf,m=e.t,f=e.O,y=e.ab,_=e._,b=e.r,v=e.o,w=e.c,k=e.w,g=e.F,x=e.b,V=e.y,F=e.x,C=e.z,T=e.v,D=e.u,I=e.A,M=e.a3,E=e.a4},e=>{R=e.T},null],execute:function(){var l=document.createElement("style");l.textContent="ion-radio[data-v-a4497403]{--size: 48px}\n",document.head.appendChild(l);const j=i({name:"HisSelect",mixins:[t],components:{IonTitle:n,IonInput:o,IonRadioGroup:d,IonRadio:s,IonGrid:u,IonCol:c,IonRow:r,ViewPort:a},setup:()=>({arrowUp:h,arrowDown:p}),data:()=>({selected:"",listData:[]}),mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata),this.listData.length&&(this.selected=this.listData[0].label)},warn(e){m(e)},async launchModal(e,l){(await f.create({component:R,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:l}})).present()},async editField(e,l){const t=t=>{e.value=t,"function"==typeof e?.field?.computedValue&&(e.computedValue=e?.field?.computedValue(t)),"function"==typeof e?.field?.onValueUpdate&&e.field.onValueUpdate(t,l)};this.launchModal(e.field,(l=>{if(!Array.isArray(l)&&l.label.match(/unknown/i)&&"function"==typeof e.field?.config?.onUnknownEstimateField)return this.launchModal(e.field.config.onUnknownEstimateField(),(e=>t(e)));t(l)}))}},watch:{listData:{handler(e){const l=[],t=e.map((e=>e.other.data)).reduce(((e,l)=>[...e,...l.reduce(((e,l)=>[...e,...l]),[])]),[]).filter((e=>e.required&&""===e.value?(l.push(e.label),!1):!!e.required)).map((e=>({label:e.label,value:e.value,other:{obs:e.computedValue}})));y.isEmpty(l)?this.$emit("onValue",t):this.$emit("onValue",[{label:"_INCOMPLETE_RECORD_ERROR_",value:l.length,other:{incompleteLabels:l}}])},deep:!0}}}),A={key:0},L=(e=>(M("data-v-a4497403"),e=e(),E(),e))((()=>I("p",null,null,-1)));e("default",_(j,[["render",function(e,l,t,a,i,n){const o=b("ion-radio"),d=b("ion-label"),s=b("ion-item"),u=b("ion-radio-group"),c=b("ion-list"),r=b("ion-col"),h=b("ion-title"),p=b("ion-row"),m=b("ion-input"),f=b("ion-grid"),y=b("view-port");return v(),w(y,null,{default:k((()=>[x(f,{class:"view-port-content"},{default:k((()=>[x(p,null,{default:k((()=>[x(r,{size:"4"},{default:k((()=>[x(c,null,{default:k((()=>[x(u,{modelValue:e.selected,"onUpdate:modelValue":l[0]||(l[0]=l=>e.selected=l)},{default:k((()=>[(v(!0),F(g,null,V(e.listData,((e,l)=>(v(),w(s,{detail:"",lines:"none",class:"his-md-text his-card ion-padding",key:l},{default:k((()=>[x(o,{slot:"start",value:e.label},null,8,["value"]),x(d,{innerHTML:e.label},null,8,["innerHTML"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),x(r,null,{default:k((()=>[(v(!0),F(g,null,V(e.listData,((l,t)=>(v(),F("div",{key:t},[e.selected===l.label?(v(),F("div",A,[(v(!0),F(g,null,V(l.other.data,((a,i)=>(v(),w(f,{style:{"margin-bottom":"10px"},class:"his-card",key:i},{default:k((()=>[l?.other?.rowTitles?(v(),w(p,{key:0,style:{background:"#F8F8F8"}},{default:k((()=>[x(r,{class:"ion-text-center"},{default:k((()=>[x(h,{class:"his-md-text",innerHTML:l?.other?.rowTitles&&l?.other?.rowTitles[i]||""},null,8,["innerHTML"])])),_:2},1024)])),_:2},1024)):C("",!0),L,(v(!0),F(g,null,V(a,((l,a)=>(v(),w(p,{key:a},{default:k((()=>[x(r,null,{default:k((()=>[l.disabled?(v(),w(s,{key:0,onClick:t=>e.warn(`Cannot edit ${l.label}`),class:"his-sm-text"},{default:k((()=>[x(d,null,{default:k((()=>[D(T(l.label),1)])),_:2},1024),x(m,{placeholder:"N/A",slot:"end"})])),_:2},1032,["onClick"])):C("",!0),l.disabled?C("",!0):(v(),w(s,{key:1,class:"his-sm-text",onClick:a=>e.editField(l,e.listData[t].other.data[i])},{default:k((()=>[x(d,{color:l?.value?.label?"":"danger"},{default:k((()=>[I("b",null,T(l.label),1)])),_:2},1032,["color"]),x(m,{class:"his-md-text",slot:"end",readonly:!0,value:l?.value?.label,placeholder:"Click to edit"},null,8,["value"])])),_:2},1032,["onClick"]))])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)))),128))])):C("",!0)])))),128))])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-a4497403"]]))}}}));
