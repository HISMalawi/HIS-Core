System.register(["./regimen_report_service-legacy-BqYlXYtJ.js","./ReportMixin.vue_vue_type_script_lang-legacy-C6Hhp01r.js","./TableReportTemplate-legacy-Bwm5G9Of.js","./index-legacy-C7ieadqO.js","./BasicReportTemplate-legacy-CaMY3R4S.js","./Export-legacy-C-ZiIavv.js","./Pagination-legacy-BrFPtmXX.js","./HisStandardForm-legacy-lb9UNuD1.js","./ReportErrors-legacy-DQpfzBOF.js"],(function(e,t){"use strict";var r,o,i,n,a,s,l,u,p,d,c,m,g;return{setters:[e=>{r=e.R,o=e.F,i=e.a},e=>{n=e._},e=>{a=e.R},e=>{s=e.d,l=e.a2,u=e.K,p=e.V,d=e._,c=e.M,m=e.o,g=e.c},null,null,null,null,null],execute:function(){const t=s({mixins:[n],components:{ReportTemplate:a},data:()=>({title:"Regimen Formulation: Patient level report",totalClients:[],rows:[],columns:[[l.thTxt("ARV Number"),l.thTxt("Gender"),l.thTxt("Date of Birth"),l.thTxt("Reg. name"),l.thTxt("Formulation")]]}),created(){this.fields=[...this.getDateDurationFields(),{id:"regimen",helpText:"Select regimen",type:u.TT_SELECT,validation:e=>p.required(e),options:()=>r.map((e=>({label:e,value:e})))},{id:"formulation",helpText:"Select formulation",type:u.TT_SELECT,validation:e=>p.required(e),options:()=>o.map((e=>({label:e,value:e})))}]},methods:{async onPeriod({regimen:e,formulation:t},r){this.rows=[],this.report=new i,this.report.setStartDate(r.start_date),this.report.setEndDate(r.end_date),this.report.setOccupation(r.occupation),this.period=this.report.getDateIntervalPeriod();const o=t.value,n=e.value,a=await this.report.getRegimenFormulationReport(n,o);this.setRows(a)},async setRows(e){this.sortByArvNumber(e).forEach((e=>{this.rows.push([l.td(e.arv_number),l.td(this.formatGender(e.gender)),l.tdDate(e.birthdate),l.td(e.regimen),l.td(e.drugs)])}))}}});e("default",d(t,[["render",function(e,t,r,o,i,n){const a=c("report-template");return m(),g(a,{title:e.title,period:e.period,rows:e.rows,fields:e.fields,columns:e.columns,onReportConfiguration:e.onPeriod,"report-prefix":"Clinic"},null,8,["title","period","rows","fields","columns","onReportConfiguration"])}]]))}}}));
