import{d as S,ao as T,k as V,I as N,x as B,j as E,i as K,s as P,v as $,ap as w,af as x,Q as k,U,aq as H,S as A,aj as L,E as y,a7 as M,ar as O,as as R,at as j,A as z,B as n,o as d,c as _,w as t,a as s,e as p,M as C}from"./index-CmAu9cV_.js";const F=S({name:"HC location",components:{BarcodeInput:T,IonContent:V,IonHeader:N,IonPage:B,IonTitle:E,IonToolbar:K,IonButton:P,IonFooter:$,HisKeyboard:w},setup(){const{activePlatformProfile:e}=x(),o=k(""),l=k(""),f=U(()=>e.value.scanner===j.CAMERA_SCANNER);async function r(){o.value.includes("$")||(o.value+="$");const a=await A.getJson("locations/".concat(o.value));if(L.isEmpty(a))y("Invalid location");else{const u=a;sessionStorage.userLocation=u.name;try{await M().setLocation()}catch(m){return y("Unable to set facility UUID. Please try again!")}O.push("/")}l.value=o.value,o.value=""}function b(a){o.value=a}function i(a){o.value=R(a,o.value),console.log("barcode",o.value)}async function c(a){o.value=a,await r()}return{onbarcodeText:b,onScan:c,onKbClick:i,searchLocation:r,useVirtualKeyboard:f,clearValue:l,barcodeText:o,NUMBERS:H}}});function q(e,o,l,f,r,b){const i=n("ion-title"),c=n("ion-toolbar"),a=n("ion-header"),u=n("barcode-input"),m=n("ion-content"),g=n("his-keyboard"),v=n("ion-button"),h=n("ion-footer"),I=n("ion-page");return d(),_(I,null,{default:t(()=>[s(a,{translucent:!0},{default:t(()=>[s(c,null,{default:t(()=>[s(i,null,{default:t(()=>[p("Scan work-station location")]),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:t(()=>[s(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),e.useVirtualKeyboard?(d(),_(g,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):C("",!0),s(h,null,{default:t(()=>[s(c,{color:"dark"},{default:t(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:t(()=>[p(" Cancel ")]),_:1}),e.barcodeText?(d(),_(v,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:t(()=>[p(" Next ")]),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})]),_:1})}const J=z(F,[["render",q],["__scopeId","data-v-3f50a6e8"]]);export{J as default};
