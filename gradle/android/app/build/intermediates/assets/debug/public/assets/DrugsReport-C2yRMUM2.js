import{O as p}from"./opd_report_service-Bq27e1lY.js";import{R as d}from"./BaseTableReport-auUXtGMR.js";import{d as m,x as l,T as t,J as a,S as u,A as g,B as o,o as c,c as f,w as _,a as h}from"./index-CmAu9cV_.js";import{_ as D}from"./ReportMixin.vue_vue_type_script_lang-a2Cv1Xr1.js";import"./Export-DV3j_OQc.js";import"./HisStandardForm-7nJndMCO.js";import"./BasicReportTemplate-FCQOkDhr.js";import"./Pagination-Dpv4ieGX.js";const w=m({components:{ReportTemplate:d,IonPage:l},mixins:[D],data:()=>({title:"Drugs report",rows:[],columns:[[t.thTxt("First Name"),t.thTxt("Last Name"),t.thTxt("Gender"),t.thTxt("Age"),t.thTxt("Drug"),t.thTxt("Prescribe Quantity"),t.thTxt("Dispense Quantity"),t.thTxt("Diagnosis"),t.thTxt("Date")]]}),created(){this.fields=this.getDateDurationFields()},methods:{async init(i,e){const s=new p;s.setStartDate(e.start_date),s.setEndDate(e.end_date),this.period=s.getDateIntervalPeriod(),this.rows=this.buildRows(await s.getDrugs())},buildRows(i){return i.length?i.map(e=>[t.td(e.given_name),t.td(e.family_name),t.td(e.gender),t.td(a.calculateAge(e.birthdate,u.getSessionDate())),t.td(e.drug_name),t.td(e.prescribe_quantity),t.td(e.dispense_quantity),t.td(e.diagnosis),t.td(a.toStandardHisDisplayFormat(e.date))]):[]}}});function T(i,e,s,x,R,y){const n=o("report-template"),r=o("ion-page");return c(),f(r,null,{default:_(()=>[h(n,{title:i.title,rows:i.rows,fields:i.fields,columns:i.columns,itemsPerPage:12,period:i.period,reportPrefix:"Clinic",onReportConfiguration:i.init,paginated:""},null,8,["title","rows","fields","columns","period","onReportConfiguration"])]),_:1})}const F=g(w,[["render",T]]);export{F as default};
