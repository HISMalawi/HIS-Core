import{D as a}from"./defaulters_report_service-CZ8_Dhn1.js";import{_ as l}from"./ReportMixin.vue_vue_type_script_lang-a2Cv1Xr1.js";import{R as p}from"./TableReportTemplate-CNNSGRI2.js";import{d as m,x as d,T as t,A as c,B as s,o as f,c as u,w as h,a as _}from"./index-CmAu9cV_.js";import"./BasicReportTemplate-FCQOkDhr.js";import"./Export-DV3j_OQc.js";import"./Pagination-Dpv4ieGX.js";import"./HisStandardForm-7nJndMCO.js";import"./ReportErrors-Bih00KK0.js";const b=m({mixins:[l],components:{ReportTemplate:p,IonPage:d},data:()=>({title:"Clinic Defaulters report",rows:[],columns:[[t.thTxt("ARV#"),t.thTxt("First name",{csvExportable:!1,pdfExportable:!0}),t.thTxt("Last name",{csvExportable:!1,pdfExportable:!0}),t.thTxt("Gender"),t.thTxt("Birthdate"),t.thTxt("Appointment date"),t.thTxt("Date defaulted"),t.thTxt("Address",{csvExportable:!1,pdfExportable:!0})]]}),created(){this.fields=this.getDateDurationFields(!1,!1,5,null)},methods:{async onPeriod(r,e){this.rows=[],this.report=new a,this.report.setIsPepfar(!1),this.report.setOccupation(e.occupation),this.report.setStartDate(e.start_date),this.report.setEndDate(e.end_date),this.period=this.report.getDateIntervalPeriod();const o=await this.report.getDefaulters();this.setRows(o),this.title="Clinic Defaulters report <b>(".concat(o.length," Defaulters)</b>")},async setRows(r){this.sortByArvNumber(r).forEach(e=>{this.rows.push([t.td(e.arv_number),t.td(e.given_name),t.td(e.family_name),t.td(this.formatGender(e.gender)),t.tdDate(e.birthdate),t.tdDate(e.appointment_date),t.tdDate(e.defaulter_date),t.td((e.cell_number?"CELL: ".concat(e.cell_number," <br/>"):"")+(e.village?"VILLAGE: ".concat(e.village," <br/>"):"")+(e.district?"DISTRICT: ".concat(e.district," <br/>"):"")+(e.ta?"TA: ".concat(e.ta," <br/>"):"")+(e.landmark?"Landmark: ".concat(e.landmark):""))])})}}});function D(r,e,o,x,w,T){const i=s("report-template"),n=s("ion-page");return f(),u(n,null,{default:h(()=>[_(i,{title:r.title,period:r.period,rows:r.rows,fields:r.fields,columns:r.columns,showtitleOnly:!0,onReportConfiguration:r.onPeriod,encryptPDF:!0,reportPrefix:"Clinic"},null,8,["title","period","rows","fields","columns","onReportConfiguration"])]),_:1})}const I=c(b,[["render",D]]);export{I as default};
