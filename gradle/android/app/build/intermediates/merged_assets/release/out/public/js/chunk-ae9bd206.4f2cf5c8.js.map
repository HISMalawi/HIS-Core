{"version":3,"sources":["webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRTableTemplate.vue","webpack:///./src/apps/OPD/views/reports/moh/IDSR/IDSRWeekly.vue","webpack:///./node_modules/eslint-loader/index.js","webpack:///./src/apps/OPD/views/reports/ReportMixin.vue","webpack:///./src/apps/OPD/views/reports/moh/MOHReportHeader.vue"],"names":["_hoisted_1","class","style","render","_ctx","_cache","$props","$setup","$data","$options","_component_report_table","_resolveComponent","_openBlock","_createBlock","_createVNode","columns","rows","config","tableCssTheme","defineComponent","components","ReportTable","data","conditions","lessThanFiveYears","greaterAndEqualFiveYears","total","table","thTxt","colspan","sortable","exportable","props","methods","renderResults","report","IDSRReportService","Conditions","params","length","buildRows","onDownload","CSVString","getCSVString","dayjs","format","Service","getCoreVersion","getApiVersion","epiweek","getLocationName","getSiteUUID","csvData","Blob","type","reportTitle","quarter","navigator","msSaveBlob","link","document","createElement","href","window","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","forEach","condition","push","td","id","textAlign","name","buildRow","lessThanFiveYearsPatientIds","greaterThanEqualFiveYears","greaterThanEqualFiveYearsPatientIds","totalPatientIds","count","patientIds","tdLink","onDrillDown","watch","immediate","handler","__exports__","_hoisted_2","_component_ion_loading","_component_his_standard_form","_component_idsr_h","_component_weekly","_component_ion_content","_component_his_footer","_component_ion_page","_Fragment","isLoading","message","reportReady","_createCommentVNode","key","onOnFinish","onPeriod","skipSummary","fields","default","_withCtx","componentKey","reportName","rangeLabel","range","ref","periodLabel","periodDates","clinicName","totalOPDVisits","TotalOPDVisits","idsr","_","btns","mixins","ReportMixinVue","IonLoading","IdsrH","Weekly","HisStandardForm","HisFooter","IonPage","IonContent","formData","computedFormData","reportID","reportUrlParams","regenarate","created","getBtns","getEpiweeksFields","form","regenerate","setRegenerate","setEpiWeek","label","setStartDate","HisDate","toStandardHisFormat","other","start","setEndDate","end","getReportPeriod","split","requestIDSRWeekly","visits","getClinicRegistrations","error","console","log","size","slot","color","visible","onClick","rep","$refs","exportToCustomPDF","$router","path","OpdReportService","constructor","getReport","request","requestIDSRMonthly","all","value","Object","entries","temp","item","key1","value1","conditionDetails","IDSRConditionsObj","epiWeeks","epiWeeksObj","getJson","reverse","dates","startDate","endDate","txt","months","_payload","monthandyear","startandendmonths","trim","period","customFileName","drillDownCache","toDate","date","toStandardHisDisplayFormat","confirmPatient","patient","title","printW","open","content","getElementById","write","innerHTML","setTimeout","print","close","conditionName","isEmpty","rowParser","Promise","ids","map","personDetails","Patientservice","findByID","getGivenName","getFamilyName","getGender","getAge","getPhoneNumber","getCurrentDistrict","getCurrentVillage","getClosestLandmark","tdBtn","modalController","dismiss","drilldownData","asyncRows","modal","create","component","DrilldownTable","cssClass","componentProps","showFilters","rowsPerPage","paginated","showReportStamp","footerColor","onFinish","present","getDefaultDrillDownTable","tableRows","index","defaultRow","row","getArvNumber","tdDate","getBirthdate","toString","runTableDrill","drill","values","helpText","FieldType","TT_SELECT","validation","val","Validation","required","options","getReportEpiWeeks","items","q","moment","getMonthlyFields","getReportMonths","getDateDurationFields","useQuarter","setCustomQuarterPeriod","maxQuarter","minDate","maxDate","getSessionDate","quarters","getReportQuarters","generateDateFields","f","estimation","allowUnknown","computeValue","unload","d","s","c","end_date","start_date","String","reportparams","Number","this","mounted","initTable","tableHeaders","LA_TYPES","one","two","three","four","NCD_TYPES","MENTAL_HEALTH_DIAGNOSIS","super","programID","getProgramID","getPatientsWithNIDs","getDrugsGivenWithoutPrescription","getDrugsGivenWithPrescription","getDiagnosis","url","getDiagnosisByAddress","getLaPrescriptions","printLaReport","printService","PrintoutService","keys","v","i","printLbl","Url","parameterizeObjToString","getDateIntervalPeriod","buildRequest","payload","minDuration","year","getCurrentYear"],"mappings":"kIAEA,MAAMA,EAAa,CACjBC,MAAO,WACPC,MAAO,CAAC,OAAS,OAAO,MAAQ,MAAM,aAAa,KAAK,gBAAgB,OAGpE,SAAUC,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAA0BC,8BAAkB,gBAElD,OAAQC,yBAAcC,yBAAa,MAAOb,EAAY,CACpDc,yBAAaJ,EAAyB,CACpCK,QAASX,EAAKW,QACdC,KAAMZ,EAAKY,KACXC,OAAQ,CAACC,cAAed,EAAKc,gBAC5B,KAAM,EAAG,CAAC,UAAW,OAAQ,a,yECNrBC,+BAAgB,CAC7BC,WAAY,CAAEC,oBACdC,KAAM,WACJ,MAAO,CACLC,WAAY,GACZC,kBAAmB,YACnBC,yBAA0B,aAC1BC,MAAO,UACPR,cAAe,mBACfF,KAAM,GACND,QAAS,CACT,CACEY,OAAMC,MAAM,GAAI,CACdC,QAAS,EACTC,UAAU,EACVC,YAAY,IAEdJ,OAAMC,MAAM,oBAAqB,CAC/BC,QAAS,EACTC,UAAU,EACVC,YAAY,KAGhB,CACEJ,OAAMC,MAAM,IACZD,OAAMC,MAAM,8BACZD,OAAMC,MAAM,WACZD,OAAMC,MAAM,YACZD,OAAMC,MAAM,aAKlBI,MAAO,CAAC,SAAU,UAAW,UAAU,eACvCC,QAAS,CACRC,gBACE,MAAMC,EAAS,IAAIC,OACbC,EAAaF,EAAOD,cAAc,KAAKI,QAC1CD,EAAWE,SACb,KAAKhB,WAAac,EAClB,KAAKrB,KAAO,KAAKwB,UAAUH,KAG9BI,aACE,MAAMN,EAAS,IAAIC,OACnB,IAAI,UAACM,GAAaP,EAAOQ,aAAa,KAAKpB,YAC3CmB,GAAa,6BACQE,MAAQC,OAAO,wDACXC,OAAQC,4CACbD,OAAQE,6CACN,KAAKC,4BACdH,OAAQI,2CACHJ,OAAQK,gBAEzB,MAAMC,EAAU,IAAIC,KAAK,CAACX,GAAY,CAAEY,KAAM,4BAExCC,EAAc,GAAGT,OAAQI,wCAAwC,KAAKM,UAC5E,GAAIC,UAAUC,WACZD,UAAUC,WAAWN,EAAS,sBACzB,CAEL,MAAMO,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAOC,OAAOC,IAAIC,gBAAgBb,GACvCO,EAAKO,aAAa,WAAeX,EAAH,QAC9BK,SAASO,KAAKC,YAAYT,GAC1BA,EAAKU,QACLT,SAASO,KAAKG,YAAYX,KAG/BnB,UAAUlB,GACR,MAAMN,EAAyB,GAmB/B,OAlBAM,EAAKiD,QAASC,IAUXxD,EAAKyD,KAAK,CACR9C,OAAM+C,GAAGF,EAAUG,GAAI,CAACzE,MAAO,CAAC0E,UAAW,UAC3CjD,OAAM+C,GAAGF,EAAUK,KAAM,CAAC3E,MAAO,CAAC0E,UAAW,UAC7C,KAAKE,SAAS,KAAKtD,kBAAkB,IAAIgD,EAAUK,KAAK,IAAKL,EAAUhD,kBAAmBgD,EAAUO,6BACpG,KAAKD,SAAS,KAAKrD,yBAAyB,IAAI+C,EAAUK,KAAK,IAAKL,EAAUQ,0BAA2BR,EAAUS,qCACnH,KAAKH,SAAS,KAAKpD,MAAM,IAAI8C,EAAUK,KAAK,IAAKL,EAAU9C,MAAO8C,EAAUU,qBAG1ElE,GAET8D,SAASD,EAAcM,EAAYC,GAClC,MAAqB,iBAAVD,EACFxD,OAAM+C,GAAG,IAEZS,EAAQ,EAGLxD,OAAM0D,OACbF,EACA,SAAa,KAAKG,YAAYT,EAAMO,IAJ7BzD,OAAM+C,GAAG,KASpBa,MAAO,CACLjD,OAAQ,CACNkD,WAAW,EACXC,UACE,KAAKvD,qB,qBCjHb,MAAMwD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASvF,KAErD,U,2DFLf,MAAMH,EAAa,CAAE2E,GAAI,kBACnBgB,EAA0B7E,yBAAa,MAAO,CAAE6D,GAAI,SAAW,MAAO,GAEtE,SAAUxE,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMmF,EAAyBjF,8BAAkB,eAC3CkF,EAA+BlF,8BAAkB,qBACjDmF,EAAoBnF,8BAAkB,UACtCoF,EAAoBpF,8BAAkB,UACtCqF,EAAyBrF,8BAAkB,eAC3CsF,EAAwBtF,8BAAkB,cAC1CuF,EAAsBvF,8BAAkB,YAE9C,OAAQC,yBAAcC,yBAAasF,cAAW,KAAM,CAClDrF,yBAAa8E,EAAwB,CACnC,UAAWxF,EAAKgG,UAChBC,QAAS,kBACR,KAAM,EAAG,CAAC,YACXjG,EAAKkG,YAOHC,gCAAoB,IAAI,IANvB3F,yBAAcC,yBAAagF,EAA8B,CACxDW,IAAK,EACLC,WAAYrG,EAAKsG,SACjBC,aAAa,EACbC,OAAQxG,EAAKwG,QACZ,KAAM,EAAG,CAAC,aAAc,YAE9BxG,EAAKkG,aACD1F,yBAAcC,yBAAaqF,EAAqB,CAAEM,IAAK,GAAK,CAC3DK,QAASC,qBAAS,IAAM,CACtBhG,yBAAakF,EAAwB,KAAM,CACzCa,QAASC,qBAAS,IAAM,CACtBhG,yBAAa,MAAOd,EAAY,CAC9Bc,yBAAagF,EAAmB,CAC9BU,IAAKpG,EAAK2G,aACVC,WAAY5G,EAAK4G,WACjBC,WAAY7G,EAAK6G,WACjBC,MAAO9G,EAAK8G,MACZC,IAAK,SACLC,YAAahH,EAAKgH,YAClBC,YAAajH,EAAKiH,YAClBC,WAAYlH,EAAKkH,WACjBC,eAAgBnH,EAAKoH,gBACpB,KAAM,EAAG,CAAC,aAAc,aAAc,QAAS,cAAe,cAAe,aAAc,mBAC9F1G,yBAAaiF,EAAmB,CAC9BS,IAAKpG,EAAK2G,aACVzB,YAAalF,EAAKkF,YAClBhD,OAAQlC,EAAKqH,KACbxE,QAAS7C,EAAK8G,MACdC,IAAK,OACJ,KAAM,EAAG,CAAC,cAAe,SAAU,gBAG1CO,EAAG,IAEL5G,yBAAamF,EAAuB,CAAE0B,KAAMvH,EAAKuH,MAAQ,KAAM,EAAG,CAAC,WAErED,EAAG,KAELnB,gCAAoB,IAAI,GAC5BZ,GACC,I,oGCjDUxE,+BAAgB,CAC7ByG,OAAQ,CAACC,QACTzG,WAAY,CAAE0G,kBAAYC,aAAOC,cAAQC,uBAAiBC,iBAAWC,eAASC,mBAC9E9G,KAAM,MACJ+G,SAAU,GACVtB,aAAc,EACduB,iBAAkB,GAClBb,KAAM,GACNE,KAAM,GACNvB,WAAW,EACXQ,OAAQ,GACR2B,UAAW,EACXnB,YAAa,aACbC,YAAa,GACbL,WAAY,qCACZC,WAAY,cACZC,MAAO,GACPM,eAAgB,EAChBF,WAAYlF,OAAkBc,kBAC9BoD,aAAa,EACbkC,gBAAiB,GACjBC,WAAY,KAEdC,UACE,KAAKf,KAAO,KAAKgB,UACjB,KAAK/B,OAAS,KAAKgC,qBAErB3G,QAAS,CACP,eAAe4G,EAAW5H,EAAa6H,GAAW,GAChD,KAAK/B,cAAgB,EACrB,KAAKsB,SAAWQ,EAChB,KAAKP,iBAAmBrH,EACxB,KAAKqF,aAAc,EACnB,KAAKF,WAAY,EACjB,KAAKjE,OAAS,IAAIC,OAClB,KAAKD,OAAO4G,cAAcD,GAC1B,KAAK3G,OAAO6G,WAAWH,EAAK5F,QAAQgG,OACpC,KAAK9G,OAAO+G,aAAaC,OAAQC,oBAAoBP,EAAK5F,QAAQoG,MAAMC,QACxE,KAAKnH,OAAOoH,WAAWJ,OAAQC,oBAAoBP,EAAK5F,QAAQoG,MAAMG,MACtE,KAAKnC,YAAc,KAAKlF,OAAOsH,kBAC/B,KAAKvC,MAAQ2B,EAAK5F,QAAQgG,MAAMS,MAAM,KAAK,GAC3C,IACE,MAAMjC,QAAa,KAAKtF,OAAOwH,oBACzBC,QAAe,KAAKzH,OAAO0H,yBAC9BpC,GAAQmC,IACT,KAAKrB,SAAW,OAChB,KAAKf,eAAiBoC,EAAOrH,OAC7B,KAAKkF,KAAOA,GAEd,MAAOqC,GACPC,QAAQC,IAAIF,GATb,QAWC,KAAK1D,WAAY,IAGrBuC,UACE,MAAQ,CACN,CACE9D,KAAM,MACNoF,KAAM,QACNC,KAAM,QACNC,MAAO,UACPC,SAAS,EACTC,QAAS,UACP,MAAMC,EAAM,KAAKC,MAAMD,IACvBA,EAAI7H,eAGR,CACEoC,KAAM,MACNoF,KAAM,QACNC,KAAM,QACNC,MAAO,UACPC,SAAS,EACTC,QAAS,IAAM,KAAKG,kBAAkB,6BAExC,CACE3F,KAAM,OACNoF,KAAM,QACNC,KAAM,MACNC,MAAO,UACPC,SAAS,EACTC,QAAS,IAAM,KAAK/D,aAAc,GAEpC,CACEzB,KAAM,UACNoF,KAAM,QACNC,KAAM,MACNC,MAAO,UACPC,SAAS,EACTC,QAAS,eAAkB,KAAK3D,SAAS,KAAK2B,SAAU,KAAKC,kBAAkB,IAEjF,CACEzD,KAAM,SACNoF,KAAM,QACNC,KAAM,MACNC,MAAO,UACPC,SAAS,EACTC,QAAS,IAAM,KAAKI,QAAQhG,KAAK,CAAEiG,KAAK,Y,qBEzGlD,MAAMhF,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASvF,KAErD,gB,oCCPf,8DAgBM,MAAOiC,UAA0BuI,OAEnCC,cACI,QACA,KAAK9B,YAAa,EAGtBC,cAAcD,GACV,KAAKA,WAAaA,EAGtBa,oBACI,OAAO,KAAKkB,UAAU,8BAA+B,CACjDC,QAAS,SAIjBC,qBACI,OAAO,KAAKF,UAAU,+BAAgC,CAClDC,QAAS,SAIjB5I,cAAcI,GACV,MAAM0I,EAAM,GACZ,IAAI7F,EAAQ,EACZ,IAAK,MAAOqB,EAAKyE,KAAUC,OAAOC,QAAQ7I,GAAS,CAC/C,MAAM8I,EAAY,GACZ5G,EAAiByG,EACjBI,EAAO,CACT1G,GAAI,EACJE,KAAM,GACNrD,kBAAmB,GACnBuD,4BAA6B,GAC7BC,0BAA2B,GAC3BC,oCAAqC,GACrCvD,MAAO,EACPwD,gBAAiB,IAErBmG,EAAKxG,KAAO2B,EACZ,IAAI9E,EAAQ,EACZ2J,EAAK1G,GAAKQ,EACVA,GAAS,EACT,IAAK,MAAOmG,EAAMC,KAAWL,OAAOC,QAAQ3G,GAAY,CACpD,MAAMgH,EAAwBD,EACN,MAApBC,IACA9J,GAAQ8J,EAAiBjJ,OACzB8I,EAAK3J,MAAQA,EACV8J,EAAiBjJ,SAChB6I,EAAK3G,QAAQ+G,GACbH,EAAKnG,gBAAkBkG,GAEf,SAARE,IACJD,EAAK7J,kBAAoBgK,EAAiBjJ,OAC1C8I,EAAKtG,4BAA8ByG,GAE3B,UAARF,IACJD,EAAKrG,0BAA4BwG,EAAiBjJ,OAClD8I,EAAKpG,oCAAsCuG,IAIjDR,EAAIvG,KAAK4G,GAEX,OAAOL,EAGXrI,aAAa8I,GACT,IAAI/I,EAAY,wDAChB,IAAI,MAAM8B,KAAaiH,EACnB/I,GAAa,GAAG8B,EAAUK,QAAQL,EAAUhD,qBAAqBgD,EAAUQ,6BAA6BR,EAAU9C,WAEtH,MAAO,CAACgB,aAGkB,iCAC1B,MAAMgJ,EAAmC,GACnCC,QAAoB7I,OAAQ8I,QAAQ,aAS1C,OARAD,EAAYE,UAAUtH,QAAU8G,IAC5B,MAAMS,EAAQT,EAAK,GAAG3B,MAAM,KACtBqC,EAAYD,EAAM,GAClBE,EAAUF,EAAM,GAChBG,EAAMZ,EAAK,GAAG3B,MAAM,KACpB7E,EAAOoH,EAAI,GAAI,KAAMA,EAAI,GAC/BP,EAASjH,KAAK,CAAEI,KAAMA,EAAMyE,MAAOyC,EAAWvC,IAAKwC,MAEhDN,EAGiB,+BACxB,MAAMQ,EAAiC,GACjCP,QAAoB7I,OAAQ8I,QAAQ,cAQ1C,OAPAD,EAAYpH,QAAU8G,IAClB,MAAMc,EAAWd,EAAK,GAChBe,EAAeD,EAAS,GACxBE,EAAoBF,EAAS,GAC7BL,EAAQO,EAAkB3C,MAAM,MACtCwC,EAAOzH,KAAK,CAAEI,KAAMuH,EAAc9C,MAAOwC,EAAM,GAAItC,IAAKsC,EAAM,GAAGQ,WAE9DJ,K,uNHjGA/K,+BAAgB,CAC3BG,KAAM,MACFsF,OAAQ,GACRzE,OAAQ,GACRmE,aAAa,EACbiG,OAAQ,GACRR,UAAW,GACXC,QAAS,GACTQ,eAAgB,GAChBC,eAAgB,KAEpBxK,QAAS,CACLyK,OAAOC,GACH,OAAOxD,OAAQyD,2BAA2BD,IAE9CE,eAAeC,GACX,OAAO,KAAKrC,QAAQhG,KAAK,+BAA+BqI,IAE5D,wBAAwBC,GACpB,MAAMC,EAASC,KAAK,GAAI,GAAI,8BACtBC,EAAUtJ,SAASuJ,eAAe,kBACpCD,GAAWF,IACXA,EAAOpJ,SAASwJ,MAAM,4FAGLL,8LAIPG,EAAQG,yFAIlBC,WAAW,KAAQN,EAAOO,QAASP,EAAOQ,SAAW,QAG7D,kBAAkBC,EAAuBrI,GACrC,GAAGsI,qBAAQtI,GAAa,OACxB,MAAMrE,EAAU,CAAC,CACbY,OAAMC,MAAM,cACZD,OAAMC,MAAM,aACZD,OAAMC,MAAM,UACZD,OAAMC,MAAM,OACZD,OAAMC,MAAM,SACZD,OAAMC,MAAM,WACZD,OAAMC,MAAM,YAEV+L,EAAY,eACDC,QAAQ5C,IAAI6C,EAAIC,IAAI,UACjC,MAAMC,QAAsBC,OAAeC,SAAStJ,GAC9CmI,EAAU,IAAIkB,OAAeD,GACnC,MAAO,CACHpM,OAAM+C,GAAGoI,EAAQoB,gBACjBvM,OAAM+C,GAAGoI,EAAQqB,iBACjBxM,OAAM+C,GAAGoI,EAAQsB,aACjBzM,OAAM+C,GAAGoI,EAAQuB,UACjB1M,OAAM+C,GAAGoI,EAAQwB,kBACjB3M,OAAM+C,GAAG,GAAGoI,EAAQyB,yBAAyBzB,EAAQ0B,wBAAwB1B,EAAQ2B,wBACrF9M,OAAM+M,MAAM,SAAU,gBAChBC,OAAgBC,QAAQ,IAC9B,KAAKnE,QAAQhG,KAAK,CAAEiG,KAAM,sBAAsB/F,UAKxD,OAAO,KAAKkK,cAAcpB,EAAe1M,EAASqE,EAAYuI,IAElE,yBAAyBZ,EAAehM,EAAqB+N,GACzD,MAAMC,QAAcJ,OAAgBK,OAAO,CACvCC,UAAWC,OACXC,SAAU,cACVC,eAAgB,CACZrC,QACAhM,UACA+N,YACAO,aAAa,EACbC,YAAa,GACbC,WAAW,EACXC,iBAAiB,EACjBC,YAAa,QACbC,SAAU,IAAMf,OAAgBC,aAGxCG,EAAMY,WAEV,oBAAoB5C,EAAehM,EAAqBC,EAAkB2M,GACtE,MAAMoB,QAAcJ,OAAgBK,OAAO,CACvCC,UAAWC,OACXC,SAAU,cACVC,eAAgB,CACZrC,QACAhM,UACAC,OACA2M,YACA2B,YAAa,GACbD,aAAa,EACbE,WAAW,EACXC,iBAAiB,EACjBC,YAAa,QACbC,SAAU,IAAMf,OAAgBC,aAGxCG,EAAMY,WAEVC,2BACI,MAAM7O,EAAU,CACZ,CACIY,OAAMC,MAAM,cACZD,OAAMC,MAAM,UACZD,OAAMC,MAAM,cACZD,OAAMC,MAAM,aAGd+L,EAAakC,GACRA,EAAU/B,IAAI,UACjB,MAAOgC,EAAOnL,GAAOoL,EACrB,GAAIpL,KAAM,KAAK8H,eAEX,MAAO,CAACqD,GAGZ,MAAMxO,QAAa0M,OAAeC,SAAStJ,GACrCmI,EAAU,IAAIkB,OAAe1M,GAC7B0O,EAAM,CACRF,EACAnO,OAAM+C,GAAGoI,EAAQmD,gBACjBtO,OAAM+C,GAAGoI,EAAQsB,aACjBzM,OAAMuO,OAAOpD,EAAQqD,eAAeC,YACpCzO,OAAM+M,MAAM,OAAQ,gBACVC,OAAgBC,QAAQ,IAC9B,KAAKnE,QAAQhG,KAAK,CAAEiG,KAAM,sBAAsB/F,OAIxD,OADA,KAAK8H,eAAe9H,GAAMqL,EACnBA,IAGf,MAAO,CAAErC,YAAW5M,YAExBsP,cAAc/O,EAAWyL,EAAM,sBAC3B,MAAM,QAAEhM,EAAF,UAAW4M,GAAc,KAAKiC,2BACpC,KAAKf,cAAc9B,EAAOhM,EAASO,EAAMqM,IAE7C2C,MAAMC,EAAuBxD,EAAM,eAC/B,OAAIwD,GAAUA,EAAOhO,OAAS,EACnBZ,OAAM0D,OACTkL,EAAOhO,OACP,IAAM,KAAK8N,cAAcE,EAAQxD,IAGlCpL,OAAM+C,GAAG,IAEpBkE,oBACI,MAAO,CACH,CACIjE,GAAI,UACJ6L,SAAU,kBACVlN,KAAMmN,OAAUC,UAChBC,WAAaC,GAAgBC,OAAWC,SAASF,GACjDG,QAAS,UACL,MAAMrF,QAAiBtJ,OAAkB4O,oBACnCC,EAAuBvF,EAASoC,IAAKoD,IAAD,CACtCjI,MAAOiI,EAAErM,KAAM,OAAQsM,IAAOD,EAAE5H,OAAOzG,OAAO,eAAgB,MAAOsO,IAAOD,EAAE1H,KAAK3G,OAAO,eAAe,IACzGoI,MAAOiG,EAAE5H,MACTD,MAAO6H,KAEX,OAAOD,MAKvBG,mBACI,MAAO,CACH,CACIzM,GAAI,YACJ6L,SAAU,eACVlN,KAAMmN,OAAUC,UAChBC,WAAaC,GAAgBC,OAAWC,SAASF,GACjDG,QAAS,UACL,MAAMrF,QAAiBtJ,OAAkBiP,kBACnCJ,EAAuBvF,EAASoC,IAAKoD,IAAD,CACtCjI,MAAOiI,EAAErM,KAAM,OAAQsM,IAAOD,EAAE5H,OAAOzG,OAAO,eAAgB,MAAOsO,IAAOD,EAAE1H,KAAK3G,OAAO,eAAe,IACzGoI,MAAOiG,EAAE5H,MACTD,MAAO6H,KAEX,OAAOD,MAKvBK,sBAAsBC,GAAW,EAAOC,GAAuB,EAAOC,EAAW,GAC7E,MAAMC,EAAU,aACVC,EAAU7O,OAAQ8O,iBACxB,MAAO,CACH,CACIjN,GAAI,UACJ6L,SAAU,iBACVlN,KAAMmN,OAAUC,UAChBlM,UAAW,IAAM+M,EACjBZ,WAAaC,GAAgBC,OAAWC,SAASF,GACjDG,QAAS,KACL,MAAMc,EAAWlH,OAAiBmH,kBAAkBL,GACpD,IAAIR,EAAuBY,EAAS/D,IAAKoD,IAAD,CACpCjI,MAAOiI,EAAErM,KACToG,MAAOiG,EAAE5H,MACTD,MAAO6H,KAYX,OAVIM,IACAP,EAAQ,CACJ,CACIhI,MAAO,oBACPgC,MAAO,gBACP5B,MAAO,OAER4H,IAGJA,OAGZc,eAAmB,CAClBpN,GAAI,aACJ6L,SAAU,QACVM,UAAU,EACVtM,UAAYwN,GAAWA,EAAExO,SAA+B,kBAApBwO,EAAExO,QAAQyH,QAA8BsG,EAC5EG,QAAS,IAAMA,EACfC,QAAS,IAAMA,EACfM,WAAY,CACRC,cAAc,GAElBC,aAAexF,GAAiBA,OAEjCoF,eAAmB,CAClBpN,GAAI,WACJ6L,SAAU,MACVM,UAAU,EACVtM,UAAYwN,GAAWA,EAAExO,SAA+B,kBAApBwO,EAAExO,QAAQyH,QAA8BsG,EAC5Ea,OAAQ,CAACC,EAAQC,EAAQN,EAAQO,KACnB,SAAND,IACA,KAAKtG,QAAUuG,EAAEC,WAGzBd,QAAS,CAAChK,EAAQ6K,IAAWA,EAAEE,WAC/Bd,QAAS,IAAMA,EACfM,WAAY,CACRC,cAAc,GAElBC,aAAexF,GAAiBA,SItQpD,MAAMjH,EAAc,EAEL,U,kDLHf,MAAM1F,EAAa,CAAEE,MAAO,CAAC,OAAS,OAAO,MAAQ,MAAM,aAAa,OAElE,SAAUC,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAA0BC,8BAAkB,gBAElD,OAAQC,yBAAcC,yBAAa,MAAOb,EAAY,CACpDc,yBAAaJ,EAAyB,CACpCK,QAASX,EAAKW,QACdC,KAAMZ,EAAKY,KACXC,OAAQ,CAACC,cAAed,EAAKc,gBAC5B,KAAM,EAAG,CAAC,UAAW,OAAQ,a,4BCPrBC,+BAAgB,CAC3BC,WAAY,CAAEC,oBACdW,MAAO,CACLsF,WAAY,CACVhE,KAAMoP,OACN7L,QAAS,IAEX8L,aAAc,CACZrP,KAAM4H,OACN4F,UAAU,GAEZvJ,eAAgB,CACdjE,KAAMsP,OACN9B,UAAU,GAEZ9J,WAAY,CACV1D,KAAMoP,OACN5B,UAAU,GAEZ1J,YAAa,CACX9D,KAAMoP,OACN5B,UAAU,GAEZzJ,YAAa,CACX/D,KAAMoP,OACN5B,UAAU,GAEZ7J,WAAY,CACV3D,KAAMoP,OACN5B,UAAU,GAEZ5J,MAAO,CACL5D,KAAMoP,OACN5B,UAAU,IAGdxP,KAAM,WACJ,MAAO,CACLJ,cAAe,mBACfF,KAAM,GACND,QAAS,CACL,CACEY,OAAMC,MAAMiR,KAAK7L,WAAY,CAC3BnF,QAAS,EACTC,UAAU,EACVC,YAAY,QAMxB+Q,UACED,KAAKE,aAEP9Q,QAAS,CACP8Q,YACE,MAAM/R,EAAyB,GACzBgS,EAAe,CACnB,CACEnO,KAAM,WACNoG,MAAO,UAET,CACEpG,KAAM,2BACNoG,MAAO4H,KAAKvL,YAEd,CACEzC,KAAMgO,KAAK5L,WAAW,IACtBgE,MAAO4H,KAAK3L,OAEd,CACErC,KAAMgO,KAAKzL,YAAY,IACvB6D,MAAO4H,KAAKxL,aAEd,CACExC,KAAM,oBACNoG,MAAO4H,KAAKtL,iBAIhByL,EAAazO,QAAQ8G,IACF,eAAdA,EAAKxG,MACF7D,EAAKyD,KAAK,CACN9C,OAAM+C,GAAG2G,EAAKxG,KAAM,CAAC3E,MAAO,CAAC0E,UAAW,UACxCjD,OAAM+C,GAAG2G,EAAKJ,MAAO,CAAC/K,MAAO,CAAC0E,UAAW,cAIrDiO,KAAK7R,KAAOA,M,qBKxFpB,MAAM0E,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASvF,KAErD,U,kCFPf,4LAWO,MAoBM8S,EAAmC,CAC5CC,IAAK,OACLC,IAAK,OACLC,MAAO,OACPC,KAAM,QAGGC,EAAY,CACrB,WACA,eACA,SACA,mBACA,mBACA,oBACA,SACA,aACA,kBACA,oBACA,YAGSC,EAA0B,CACnC,oCACA,kCACA,8BACA,2BACA,gBACA,yCACA,4BACA,kCACA,oCACA,uCACA,mBACA,sCACA,mCACA,sBACA,4BACA,iCACA,qBACA,gCACA,gCACA,YAGE,MAAO5I,UAAyB7H,OAMlC8H,cACI4I,QACAX,KAAK7G,QAAU,GACf6G,KAAK9G,UAAY,GACjB8G,KAAK5P,QAAU,GACf4P,KAAKlG,KAAO7J,OAAQ8O,iBACpBiB,KAAKY,UAAY3Q,OAAQ4Q,eAG7BC,sBACI,OAAOd,KAAKhI,UAAU,aAG1BhB,yBACI,OAAOgJ,KAAKhI,UAAU,gBAG1B+I,mCACI,OAAOf,KAAKhI,UAAU,oCAG1BgJ,gCACI,OAAOhB,KAAKhI,UAAU,iCAG1BiJ,eACI,MAAMC,EAAM,YAAYlB,KAAKY,8BAC7B,OAAO3Q,OAAQ8I,QAAQmI,EAAK,CACxB,WAAclB,KAAK9G,UACnB,SAAY8G,KAAK7G,QACjB,KAAQ6G,KAAKlG,OAIrBqH,wBACI,OAAOnB,KAAKhI,UAAU,wBAG1BoJ,qBACI,MAAMF,EAAM,YAAYlB,KAAKY,qCAC7B,OAAO3Q,OAAQ8I,QAAQmI,EAAK,CACxB,WAAclB,KAAK9G,UACnB,SAAY8G,KAAK7G,UAKzBkI,cAAc5S,GACV,MAAM6S,EAAe,IAAIC,OACnBL,EAAM,YAAYlB,KAAKY,+BACvBnR,EAA8B,CAChC,cAAeuQ,KAAK9G,UACpB,YAAa8G,KAAK7G,SAOtB,OALAd,OAAOmJ,KAAKpB,GAAU1O,QAAQ,CAAC+P,EAAGC,KAC9BA,IACAjS,EAAUiS,EAAH,kBAAwBjT,EAAK,YAAYgT,sBAChDhS,EAAUiS,EAAH,eAAqBjT,EAAK,YAAYgT,uBAE1CH,EAAaK,SAAS,GAAGT,KAAOU,OAAIC,wBAAwBpS,MAGvEqS,wBACI,MAAO,GAAGxL,OAAQyD,2BAA2BiG,KAAK9G,gBAAgB5C,OAAQyD,2BAA2BiG,KAAK7G,WAG9G9C,aAAa6C,GACT8G,KAAK9G,UAAYA,EAGrBxC,WAAWyC,GACP6G,KAAK7G,QAAUA,EAGnBhD,WAAW/F,GACP4P,KAAK5P,QAAUA,EAGnBwG,kBACI,OAAOoJ,KAAK9G,WAAa8G,KAAK7G,QAC3B,GAAG7C,OAAQyD,2BAA2BiG,KAAK9G,gBAAgB5C,OAAQyD,2BAA2BiG,KAAK7G,WACnG,IAGPnB,UAAUkJ,EAAazR,EAAO,IAC1B,OAAOQ,OAAQ8I,QAAQmI,EAAKlB,KAAK+B,aAAatS,IAGlDsS,aAAa3T,EAA8B,IACvC,MAAM4T,EAAe,CAAC,KAAQhC,KAAKlG,KAAM,WAAckG,KAAKY,WAQ5D,OAPIZ,KAAK9G,WAAa8G,KAAK7G,UACvB6I,EAAQ,cAAgBhC,KAAK9G,UAC7B8I,EAAQ,YAAchC,KAAK7G,SAE3B6G,KAAK5P,UACL4R,EAAQ,WAAahC,KAAK5P,SAEvB,IAAK4R,KAAY5T,GAGJ,yBAAC6T,EAAa,GAClC,MAAMjD,EAAoC,GAC1C,IAAIkD,EAAO5L,OAAQ6L,iBACnB,IAAI,IAAIT,EAAE,EAAGA,EAAIO,IAAeP,EAC5B1C,EAASpN,KAAK,CAAEI,KAAM,MAAMkQ,EAAQzL,MAAUyL,EAAH,SAAiBvL,IAAQuL,EAAH,WACjElD,EAASpN,KAAK,CAAEI,KAAM,MAAMkQ,EAAQzL,MAAUyL,EAAH,SAAiBvL,IAAQuL,EAAH,WACjElD,EAASpN,KAAK,CAAEI,KAAM,MAAMkQ,EAAQzL,MAAUyL,EAAH,SAAiBvL,IAAQuL,EAAH,WACjElD,EAASpN,KAAK,CAAEI,KAAM,MAAMkQ,EAAQzL,MAAUyL,EAAH,SAAiBvL,IAAQuL,EAAH,aAC/DA,EAEN,OAAOlD","file":"js/chunk-ae9bd206.4f2cf5c8.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"1%\"} }\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_report_table = _resolveComponent(\"report-table\")\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_report_table, {\n      columns: _ctx.columns,\n      rows: _ctx.rows,\n      config: {tableCssTheme: _ctx.tableCssTheme}\n    }, null, 8, [\"columns\", \"rows\", \"config\"])\n  ]))\n}","\nimport { defineComponent } from 'vue'\nimport ReportTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport table, { ColumnInterface, RowInterface } from \"@/components/DataViews/tables/ReportDataTable\"\n\nexport default defineComponent({\n    components: { ReportTable },\n    props: {\n      clinicName: {\n        type: String,\n        default: ''\n      },\n      reportparams: {\n        type: Object,\n        required: true\n      },\n      totalOPDVisits: {\n        type: Number,\n        required: true\n      },\n      reportName: {\n        type: String,\n        required: true\n      },\n      periodLabel: {\n        type: String,\n        required: true\n      },\n      periodDates: {\n        type: String,\n        required: true\n      },\n      rangeLabel: {\n        type: String,\n        required: true\n      },\n      range: {\n        type: String,\n        required: true\n      },\n    },\n    data: function() {\n      return {\n        tableCssTheme: 'opd-report-theme',\n        rows: [] as RowInterface[][],\n        columns: [\n            [\n              table.thTxt(this.reportName, {\n                colspan: 2,\n                sortable: false,\n                exportable: false \n              })\n            ]\n        ] as ColumnInterface[][],\n      }\n    },\n    mounted() {\n      this.initTable()\n    },\n    methods: {\n      initTable() {\n        const rows: RowInterface[][] = []\n        const tableHeaders = [\n          {\n            name: 'Country:',\n            value: 'Malawi',\n          },\n          {\n            name: 'Reporting Facility Name:',\n            value: this.clinicName\n          },\n          {\n            name: this.rangeLabel+':',\n            value: this.range\n          },\n          {\n            name: this.periodLabel+':',\n            value: this.periodDates\n          },\n          {\n            name: 'Total OPD Visits:',\n            value: this.totalOPDVisits\n          }\n\n        ]\n        tableHeaders.forEach(item => {\n          if(item.name !== 'undefined:') {\n                rows.push([\n                    table.td(item.name, {style: {textAlign: 'left'}}),\n                    table.td(item.value, {style: {textAlign: 'left'}}),\n                ])\n          }\n        })\n        this.rows = rows\n      }\n    }\n  })\n  ","import { render } from \"./IDSRTableTemplate.vue?vue&type=template&id=34feb6ec&ts=true\"\nimport script from \"./IDSRTableTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./IDSRTableTemplate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./IDSRWeekly.vue?vue&type=template&id=045fc1a0&ts=true\"\nimport script from \"./IDSRWeekly.vue?vue&type=script&lang=ts\"\nexport * from \"./IDSRWeekly.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { Service } from \"@/services/service\";\nimport HisDate from \"@/utils/Date\"\nimport { PrintoutService } from '@/services/printout_service';\nimport Url from \"@/utils/Url\";\n\nexport interface QuarterInterface {\n    name: string;\n    start: string;\n    end: string;\n}\n\nexport const AGE_GROUPS = [\n    '0-5 months', '6-11 months',\n    '12-23 months', '2-4 years', \n    '5-9 years', '10-14 years', \n    '15-17 years', '18-19 years', \n    '20-24 years', '25-29 years', \n    '30-34 years', '35-39 years', \n    '40-44 years', '45-49 years', \n    '50 plus years'\n]\n\nexport const OTHER_AGE_GROUPS = [\n    '<1 year', '1-4 years',\n    '5-9 years', '10-14 years',\n    '15-19 years', '20-24 years',\n    '25-29 years', '30-34 years',\n    '35-39 years', '40-44 years',\n    '45-49 years', '50 plus years'\n]\n\nexport const LA_TYPES: Record<string, string> = {\n    one: 'AL 1', \n    two: 'AL 2', \n    three: 'AL 3', \n    four: 'LA 4'\n}\n\nexport const NCD_TYPES = [\n    'Diabetes',\n    'Hypertension',\n    'Stroke',\n    'Suspected cancer',\n    'Confirmed cancer',\n    'Palliative cancer',\n    'Asthma',\n    'Depression',\n    'Acute psychosis',\n    'Chronic psychosis',\n    'Epilepsy'\n]\n\nexport const MENTAL_HEALTH_DIAGNOSIS = [\n    'Organic mental disorder (Chronic)',\n    'Organic mental disorder (acute)',\n    'Alcohol use mental disorder',\n    'Drug use mental disorder',\n    'Schizophrenia',\n    'Acute and transient psychotic disorder',\n    'Schizo-affective disorder',\n    'Mood-affective disorder (MANIC)',\n    'Mood-affective disorder (BIPOLAR)',\n    'Mood-affective disorder (DEPRESSION)',\n    'Anxiety disorder',\n    'Stress reaction adjustment disorder',\n    'Dissociative conversion disorder',\n    'Somatoform disorder',\n    'Puerperal mental disorder',\n    'Personality/Behaviour disorder',\n    'Mental retardation',\n    'Psychological mental disorder',\n    'Hyperkinetic conduct disorder',\n    'Epilepsy'\n]\n\nexport class OpdReportService extends Service {\n    programID: number;\n    startDate: string;\n    endDate: string;\n    date: string;\n    epiweek: string;\n    constructor() {\n        super()\n        this.endDate = ''\n        this.startDate = ''\n        this.epiweek = ''\n        this.date = Service.getSessionDate()\n        this.programID = Service.getProgramID()\n    }\n\n    getPatientsWithNIDs() {\n        return this.getReport('with_nids')\n    }\n\n    getClinicRegistrations(){\n        return this.getReport('registration');\n    }\n\n    getDrugsGivenWithoutPrescription() {\n        return this.getReport('drugs_given_without_prescription')\n    }\n\n    getDrugsGivenWithPrescription() {\n        return this.getReport('drugs_given_with_prescription')\n    }\n\n    getDiagnosis(){\n        const url = `programs/${this.programID}/reports/diagnosis`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            'date': this.date\n        })\n    }\n\n    getDiagnosisByAddress(){\n        return this.getReport('diagnosis_by_address')\n    }\n\n    getLaPrescriptions(){\n        const url = `programs/${this.programID}/reports/la_prescriptions`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            \n        })\n    }\n\n    printLaReport(data: Record<string, any>){\n        const printService = new PrintoutService()\n        const url = `programs/${this.programID}/barcodes/la_report`\n        const params: Record<string, any> = {\n            \"date[start]\": this.startDate,\n            \"date[end]\": this.endDate\n        }\n        Object.keys(LA_TYPES).forEach((v, i) => {\n            i++\n            params[`${i}[prescription]`] = data[`total_la_${v}_prescribed_drugs`]\n            params[`${i}[dispensed]`] = data[`total_la_${v}_dispensed_drugs`]\n        })\n        return printService.printLbl(`${url}?${Url.parameterizeObjToString(params)}`)\n    }\n\n    getDateIntervalPeriod() {\n        return `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n    }\n\n    setStartDate(startDate: string) {\n        this.startDate = startDate\n    }  \n\n    setEndDate(endDate: string) {\n        this.endDate = endDate\n    }\n\n    setEpiWeek(epiweek: string) {\n        this.epiweek = epiweek\n    }\n\n    getReportPeriod() {\n        return this.startDate && this.endDate\n         ? `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n         : '-'\n    }\n\n    getReport(url: string, params={}) {\n        return Service.getJson(url, this.buildRequest(params))\n    }\n\n    buildRequest(config: Record<string, any> = {}) {\n        const payload: any = {'date': this.date, 'program_id': this.programID}\n        if (this.startDate && this.endDate) {\n            payload['start_date'] = this.startDate\n            payload['end_date'] = this.endDate\n        }\n        if (this.epiweek) {\n            payload['epiweek'] = this.epiweek\n        }\n        return { ...payload, ...config }\n    }\n\n    static getReportQuarters(minDuration= 4) {\n        const quarters: Array<QuarterInterface> = []\n        let year = HisDate.getCurrentYear()\n        for(let i=0; i < minDuration; ++i) {\n            quarters.push({ name: `Q4 ${year}`, start: `${year}-10-01`, end: `${year}-12-31` })\n            quarters.push({ name: `Q3 ${year}`, start: `${year}-07-01`, end: `${year}-09-30` })\n            quarters.push({ name: `Q2 ${year}`, start: `${year}-04-01`, end: `${year}-06-30` })\n            quarters.push({ name: `Q1 ${year}`, start: `${year}-01-01`, end: `${year}-03-31` })\n            --year\n        }\n        return quarters\n    }\n\n}","import script from \"./ReportMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./ReportMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./MOHReportHeader.vue?vue&type=template&id=522eaa58&ts=true\"\nimport script from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}