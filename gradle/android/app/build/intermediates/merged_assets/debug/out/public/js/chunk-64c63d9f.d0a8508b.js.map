{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/DataViews/VLReminderModal.vue","webpack:///./src/components/DataViews/SideEffectsModal.vue","webpack:///./src/apps/ART/views/encounters/Consultation.vue","webpack:///./src/components/DataViews/VLReminderModal.vue?d9fa","webpack:///./src/components/DataViews/SideEffectsModal.vue?2579","webpack:///./src/apps/ART/views/encounters/AdherenceMixin.vue"],"names":["HTN_SESSION_KEY","BPManagementService","AppEncounterService","constructor","patientID","providerID","sbp","dbp","bpTrail","firstRecentGrade","secondRecentGrade","Object","values","sort","a","b","date","map","bp","getBpGrade","getSystolicBp","ObservationService","getFirstValueNumber","getDiastolicBp","query","getFirstValueCoded","getJson","drugID","pills","postJson","state","getDrugs","HCZ","drugs","drugName","amount","current","selected","isChecked","dispensed","expectedRemaining","adherence","notes","Enalapril","remaining","Amlodipine","Atenolol","DEFAULT_KEYPAD","VITALS_KEYPAD","DRUG_DISPENSER_KEYPAD","CD4_COUNT_PAD_LO","SYMBOLS","NUMBER_PAD_LO","MONTHLY_DAYS_LO","ALPHABETICAL_LO","QWERTY_LO","CHARACTERS_AND_NUMBERS_LO","NOTE_PAD_KEYBOARD","LOGIN_KEYBOARD","ConsultationService","getFamilyPlanningMethods","orders","DrugOrderService","getAllDrugOrders","rifapentine","isoniazid","reduce","quantities","order","name","drug","match","quantity","e","console","error","obs","getFirstObs","value_text","obsInValidPeriod","getDrugSideEffects","getProgramID","getClient","req","id","isEmpty","lastScreened","duration","dayjs","diff","secondCheck","getFirstValueText","isTL","value_coded","tlObs","fpObs","uniqueDrugs","forEach","drug_inventory_id","familyPlanningMethods","label","familyPlanningLogic","data","value","disabled","StockService","Service","drugId","stock","length","accum","pharm","current_quantity","DRUG_PACK_SIZES","DispensationService","drugHistory","currentDrugOrder","useDrugManagement","ART_PROP","drugManagementEnabled","getDrugHistory","getCurrentOrder","buildDispensations","orderId","tabs","totalPacks","dispensations","i","push","saveDispensations","void","res","getDrugOrderHistory","warn","getDrugOrders","d","fetchAvailableDrugStock","drug_id","Promise","all","getDrugPackSizes","calcCompletePack","units","drugOrderBarcodes","barcodes","parseInt","completePack","SYMBOLS_CONFIG","NUMBERS_ONLY","NUMBERS_WITH_UNKNOWN","NUMBERS_WITH_ESTIMATE","NUMBERS_WITHOUT_NA_UNKNOWN","NUMBERS","MONTHLY_DAYS","A_TO_Z","QWERTY","KEY_BTN_NAV","btn","keyboard","render","_ctx","_cache","$props","$setup","$data","$options","_component_his_standard_form","_resolveComponent","_openBlock","_createBlock","fields","onFinishAction","onFinish","skipSummary","cancelDestinationPath","cancelDestination","_withId","_withScopeId","_pushScopeId","_hoisted_1","_createTextVNode","_hoisted_2","_hoisted_3","_hoisted_4","_popScopeId","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ion_content","_component_ion_button","_component_ion_footer","_Fragment","_createVNode","default","_","style","overflowY","background","_toDisplayString","artStartDate","monthsOnART","lastOrder","currentRegimen","regimenStartDate","slot","color","size","onClick","$event","closeModal","defineComponent","props","VLData","type","required","HisDate","toStandardHisDisplayFormat","earliest_start_date","period_on_art","last_order_date","current_regimen","date_started","methods","val","modalController","dismiss","content","components","IonHeader","IonToolbar","IonTitle","IonContent","IonFooter","IonButton","__exports__","ARTLabService","milestone","concept","getConceptID","coded","class","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_ion_label","_component_ion_item","_component_ion_list","_component_ion_col","_component_ion_radio","_component_ion_radio_group","_component_ion_row","_component_ion_grid","height","_renderList","sides","index","key","selectSideEffect","detail","activeIndex","modelValue","_createCommentVNode","postSideEffects","allSelected","sideEffects","Array","computed","filter","side","mounted","extendedLabsEnabled","appActivities","specimens","reasons","IonLabel","IonList","IonItem","IonRadioGroup","IonRow","mixins","AdherenceMixinVue","HisStandardForm","currentWeight","weightTrail","customRegimens","labOrders","isDrugRefillPatient","weightLossPercentageNum","lostTenPercentBodyWeight","CxCaEnabled","CxCaStartAge","CxCaMaxAge","DueForCxCa","currentlyPregnant","patientHitMenopause","hasPregnancyObsToday","autoSelect3HP","labOrderFieldContext","consultation","prescription","dispensation","completed3HP","hasTbHistoryObs","allergicToSulphur","TBSuspected","presentedTBSymptoms","askAdherence","lastDrugsReceived","sideEffectsHistory","onPermanentFPMethods","guardianVisit","reasonForDecliningTPTObs","malawiSideEffectReasonObs","otherSideEffectReasonObs","wasTransferredIn","dateStartedArt","clientHadAHysterectomy","watch","ready","handler","PrescriptionService","getFields","immediate","f","computedData","encounter","createEncounter","toastWarning","computedObs","resolveObs","secondaryObs","savedObs","saveObservationList","drugObs","isNonePatientClient","saveAdherence","toastSuccess","refer_to_clinician","gotoPatientDashboard","nextTask","receivedArvs","transferLetterObs","toStandardHisFormat","obs_datetime","getDate","dateStarted","getFirstValueDatetime","action","infoActionSheet","vals","ProgramService","getPatientVLInfo","eligibile","modal","create","component","VLReminderModal","backdropDismiss","cssClass","componentProps","present","onDidDismiss","launchOrderSelection","waitForVL","orderService","observations","buildDefferedOrder","canScreenCxCa","age","patient","getAge","isFemale","pregnancyEligible","isChildBearing","showCurrentContraceptionMethods","formData","isPregnant","isANCclient","showNewContraceptionMethods","isOnTubalLigation","pregnant_breastfeeding","inArray","p","current_fp_methods","listData","infoAlert","noneIndex","findIndex","currentIndex","disablePrescriptions","buildMedicationOrders","options","o","buildValueCoded","priscribed","medications","declinedFPM","fp_methods","riskOfUnplannedPregnancy","reason_for_no_fpm","showOtherSideEffects","side_effects","hasTBSymptoms","tb_side_effects","attr","sideEffectReasons","getSideEffectsReasons","undefined","drugInducedConcept","ConceptService","getCachedConceptID","isOtherReason","reason","r","allYes","s","SideEffectsModalVue","getFPMethods","exclusionList","preChecked","filtered","includes","method","getOptions","preValues","preValue","find","other","yesNoOptions","getContraindications","contraIndications","getConceptsByCategory","getOtherContraindications","lastElement","pop","getTBSymptoms","getReasonsForNoCxcaOptions","c","runAppendOptionParams","prechecked","checkedOptions","appendOptionParams","appendedOptions","option","didCompleted3HP","routine_tb_therapy","tptAutoSelectionMode","curOption","is3HPorTPT","ipt3HPConflict","checkedDrugs","item","noTpTPresent","every","Boolean","optionsActionSheet","role","buildValueText","selection","medicationOrderOptions","disableOption","text","description","show","toOption","OrderService","getOrdersIncludingGivenResultStatus","formatLabs","getSuspendedProgram","proxyID","helpText","FieldType","TT_MULTIPLE_SELECT","init","Number","getRecentWeight","threeHPAutoSelectEnabled","PatientTypeService","validation","Validation","computedValue","v","tag","onValueUpdate","list","on3HPValueUpdate","cd","l","condition","exitsForm","generateDateFields","getTransferInStatus","getDateStartedArt","minDate","maxDate","computeValue","setDate","buildValueDate","estimation","allowUnknown","getCustomIngridients","config","showKeyboard","TT_NEXT_VISIT_INTERVAL_SELECTION","nextAppointment","intervals","setNextVisitInterval","calculateDateFromInterval","TT_DRUG_TRANSFER_IN","validateSeries","pillsBrought","some","buildObs","drug_interval","child","date_last_received_arvs","previous_arvs_received","prevValue","qty","rmndr","TT_LAB_ORDERS","getVlLabData","unload","checkVLReminder","noGivenResults","result_given","alertConfirmation","enc","result","resultIds","encounterID","encounter_id","saveObs","resultID","onload","fieldContext","printOrder","orderID","PatientPrintoutService","printLabOrderLbl","hiddenFooterBtns","footerBtns","visible","getTLObs","TT_MULTIPLE_YES_NO","anyEmpty","concat","TT_WEIGHT_CHART","getWeightHistory","getWeightLossPercentageFromTrail","bmi","getBMI","x","y","weight","TT_TEXT_BANNER","mapStrToOptions","disableFPMethods","checked","TT_SELECT","offer_contraceptives","cervicalCancerScreeningEnabled","start","end","cervicalCancerScreeningAgeBounds","clientDueForCxCa","clientHasHadAHysterectomy","offer_cxca","getBirthdate","getSessionDate","reason_for_no_cxca","isEstimate","buildValueDateEstimated","estimationFieldType","EstimationFieldType","MONTH_ESTIMATE_FIELD","TT_DATA_TABLE","columns","table","thTxt","rows","keys","k","tdDate","td","drug_induced","cur","getPreviousDrugs","beforeNext","buildSideEffectObs","onValue","checkIfWeightLossIsControlled","onConditionFalse","TT_NOTE","other_side_effects","on_tb_treatment","defaultValue","hasTreatmentHistoryObs","patientCompleted3HP","hasCompleteTptDispensations","yesNoUnknownOptions","getAdherenceFields","UserService","isNurse","currentOptions","onClickComponentEvents","refreshOptions","btnEvent","btnOutput","pageSize","params","patientId","getYearField","showUnknown","primaryFunctions","appearInSummary","TT_TEXT","customKeyboard","getMonthField","MonthOptions","getDayField","TT_MONTHLY_DAYS","getMonthDurationEstimateField","getAgeEstimateField","TT_NUMBER","keypad","appendLeadingZero","getDefaultDate","form","field","datePart","year","month","day","split","validateMinMax","min","Date","max","refDate","fullDate","yearValue","monthValue","dayValue","yearID","monthID","dayID","ageEstimateID","durationEstimateID","ageEstimate","durationEstimate","estimateMonthOrDay","allowUnknownMonthDay","datePartCondition","buildHelpTextDate","part","parts","partValues","dpart","wl","join","updateHelpTextOnValue","toString","StandardValidations","isNaN","minYear","getYear","summaryMapValue","summaryLabel","ref","keyboardActions","valueEstimateCondition","estimateType","conditions","ageEstimateRegex","AGE_ESTIMATE_FIELD","subtract","format","STANDARD_DATE_FORMAT","RegimenService","AdverseEffectsCategories","nextVisitInterval","fastTrack","regimenExtras","fastTrackMedications","hangingPills","medicationOrders","treatmentState","contraindications","tptPrescriptionCount","lastSideEffectDate","getHangingPills","getMedicationOrders","getCachedConceptName","getTptPrescriptionCount","getLastSideEffectDate","getSideEffects","getRegimenExtras","getPatientRegimens","getRegimens","getFastTrackMedications","getTreatmentState","isFastTrack","medicationOrdersAvailable","shouldPrescribeArvs","arvs","shouldPrescribeExtras","extras","extrasAvailable","concept_id","getRegimenStarterpack","regimenCode","patientWeight","regimen","contraindication","getObs","drugInduced","value_drug","count","yes","meds","getAll","value_numeric","drug_order","getLastDrugsReceived","withDosages","dosage","getDrugDosages","am","noon","pm","frequency","findAndGroupDrugSideEffects","allSideEffects","calculatePillsPerDay","parseFloat","estimatePackSize","pillsPerDay","packSize","packs","roundedPacks","Math","round","calculateDosage","morningTabs","eveningTabs","dose","calculateEquivalentDosage","dateObj","getDrugPackSize","pack_size","getInstructions","toOrderObj","drugOrders","response","saveValueTextObs","reasonForSwitch","AdherenceService","super","this","lastDrugs","lastReceiptDate","receiptDate","start_date","htnDrugs","htnDrugReferences","getReceiptDate","getLastDrugs","receivedDrugsBefore","buildPillCountObs","pillCount","buildValueNumber","isAdherenceGood","calculateAdherence","given","expected","calculateExpected","equivalentDailyDose","startDate","timeUnit","daysGone","calcTimeElapsed","date1","calculateUnaccountedOrMissed","actual","exp","EncounterMixinVue","askReasonForPoorAdherence","calculationAgreementObs","buildAdherenceReport","lastVisit","daysElapsed","timeElapse","rowColors","indexes","cellColors","formatFrequency","expectedPills","calcPillsExpected","adherenceStatus","unAccountedDoses","equivalent_daily_dose","row","checkDrugsBefore","TT_ADHERENCE_INPUT","async","loadPreviousDrugs","empty","buildAdherenceObs","order_id","fdata","pills_brought","TT_TABLE_VIEWER"],"mappings":"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","file":"js/chunk-64c63d9f.d0a8508b.js","sourcesContent":["import { AppEncounterService } from \"@/services/app_encounter_service\"\nimport { DrugInterface } from \"@/interfaces/Drug\"\nimport HisDate from \"@/utils/Date\"\nimport { isEmpty } from \"lodash\"\nimport { BPManagementService } from \"./htn_service\"\nimport dayjs from \"dayjs\"\n\nexport class AdherenceService extends AppEncounterService {\n    lastDrugs: Array<DrugInterface>\n    lastReceiptDate: string\n    constructor(patientID: number, providerID: number) {\n        super(patientID, 68, providerID) //TODO: Use encounter type reference name\n        this.lastDrugs = []\n        this.lastReceiptDate = ''\n    }\n\n    async loadPreviousDrugs() {\n        const date = new Date(this.date)\n        date.setDate(date.getDate() - 1) // we don't want current date to count\n        const d = (date: string | Date) => HisDate.toStandardHisFormat(date)\n        const drugs = await AppEncounterService.getJson(\n            `patients/${this.patientID}/drugs_received`, { date: d(date) }\n        )      \n        if (drugs) {\n            this.lastReceiptDate = drugs.reduce((receiptDate: string | null,  drug: any) => {\n                return !receiptDate || (new Date(d(drug.order.start_date)) > new Date(receiptDate))\n                    ?  d(drug.order.start_date)\n                    : receiptDate\n            }, null)\n            const htnDrugs = BPManagementService.htnDrugReferences().map((d: any) => d.drug_id)\n            this.lastDrugs = drugs.filter((drug: DrugInterface) => \n               !htnDrugs.includes(drug.drug['drug_id']) && d(drug.order.start_date) === this.lastReceiptDate\n            )\n        }\n    }\n\n    getReceiptDate() { return this.lastReceiptDate }\n\n    getLastDrugs() { return this.lastDrugs }\n\n    receivedDrugsBefore() { return !isEmpty(this.lastDrugs) }\n\n    buildPillCountObs(orderId: number, pillCount: number) {\n        return this.buildValueNumber('Number of tablets brought to clinic', pillCount, null, orderId)\n    }\n\n    async buildAdherenceObs(orderId: number, drugId: number, adherence: number) {\n        const concept = await AppEncounterService.getConceptID('Drug adherence', true)\n        return {\n            'concept_id': concept,\n            'value_numeric': adherence,\n            'value_drug': drugId,\n            'value_modifier': '%',\n            'order_id': orderId,\n            'person_id': this.patientID,\n            'obs_datetime': AppEncounterService.getSessionDate()\n        }\n    }\n\n    isAdherenceGood(adherence: number) {\n        return adherence >= 95 && adherence <= 105\n    }\n\n    calculateAdherence(given: number, pills: number, expected: number) {\n        return Math.round(100 * (given - pills) / (given - expected));\n    }\n\n    calculateExpected(\n        given: number, \n        equivalentDailyDose: number, \n        startDate: string, \n        frequency: 'QOD' | 'QW'\n    ) {\n        const timeUnit = frequency === 'QW' ? 'week' : 'day'\n        const daysGone = this.calcTimeElapsed(startDate, timeUnit);\n        return (given - (daysGone * parseFloat(equivalentDailyDose.toString())));\n    }\n\n    calcTimeElapsed(date1: string, timeUnit: 'week' | 'day') {\n        return dayjs(this.date).diff(date1, timeUnit)\n    }\n\n    calculateUnaccountedOrMissed(expected: string, actual: string) {\n        const exp = (parseFloat(expected) - parseFloat(actual));\n        return (exp < 0 ? ((exp * -1) + ' missed') : (exp + ' unacc'));\n    }\n}\n","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-546674a2\")\n\n_pushScopeId(\"data-v-546674a2\")\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"Side effects suspected causes\")\nconst _hoisted_2 = { style: {} }\nconst _hoisted_3 = /*#__PURE__*/_createVNode(\"div\", { class: \"side-title\" }, \" Select reason \", -1)\nconst _hoisted_4 = /*#__PURE__*/_createVNode(\"p\", null, \"Current Medication\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createVNode(\"p\", null, \"Previous Medication\", -1)\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"Other, not drug related\")\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"Drug side effect\")\nconst _hoisted_8 = /*#__PURE__*/_createVNode(\"p\", null, null, -1)\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\" Close \")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\" Save \")\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId(function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_ion_label = _resolveComponent(\"ion-label\")\n  const _component_ion_item = _resolveComponent(\"ion-item\")\n  const _component_ion_list = _resolveComponent(\"ion-list\")\n  const _component_ion_col = _resolveComponent(\"ion-col\")\n  const _component_ion_radio = _resolveComponent(\"ion-radio\")\n  const _component_ion_radio_group = _resolveComponent(\"ion-radio-group\")\n  const _component_ion_row = _resolveComponent(\"ion-row\")\n  const _component_ion_grid = _resolveComponent(\"ion-grid\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withId(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_title, null, {\n              default: _withId(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, { style: { overflowY: 'hidden', background: 'grey' } }, {\n      default: _withId(() => [\n        _createVNode(_component_ion_grid, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_row, null, {\n              default: _withId(() => [\n                _createVNode(_component_ion_col, { size: \"4\" }, {\n                  default: _withId(() => [\n                    _createVNode(_component_ion_list, { style: {overflowY: 'auto', height:'78vh'} }, {\n                      default: _withId(() => [\n                        (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.sides, (data, index) => {\n                          return (_openBlock(), _createBlock(_component_ion_item, {\n                            key: data,\n                            onClick: $event => (_ctx.selectSideEffect(index)),\n                            detail: true,\n                            style: _ctx.activeIndex === index ? 'color: green': 'color: black'\n                          }, {\n                            default: _withId(() => [\n                              _createVNode(_component_ion_label, null, {\n                                default: _withId(() => [\n                                  _createTextVNode(_toDisplayString(data.label), 1 /* TEXT */)\n                                ]),\n                                _: 2\n                              }, 1024)\n                            ]),\n                            _: 2\n                          }, 1032, [\"onClick\", \"style\"]))\n                        }), 128 /* KEYED_FRAGMENT */))\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_ion_col, { style: {overflowY: 'auto', height:'78vh'} }, {\n                  default: _withId(() => [\n                    _createVNode(\"div\", _hoisted_2, [\n                      _createVNode(_component_ion_list, null, {\n                        default: _withId(() => [\n                          (_ctx.activeIndex !== null)\n                            ? (_openBlock(), _createBlock(_component_ion_radio_group, {\n                                key: 0,\n                                modelValue: _ctx.sides[_ctx.activeIndex]['reason'],\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => (_ctx.sides[_ctx.activeIndex]['reason'] = $event))\n                              }, {\n                                default: _withId(() => [\n                                  _hoisted_3,\n                                  _hoisted_4,\n                                  (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.drugs, (drug, i) => {\n                                    return (_openBlock(), _createBlock(_component_ion_item, { key: i }, {\n                                      default: _withId(() => [\n                                        _createVNode(_component_ion_label, null, {\n                                          default: _withId(() => [\n                                            _createTextVNode(_toDisplayString(drug.drug.name), 1 /* TEXT */)\n                                          ]),\n                                          _: 2\n                                        }, 1024),\n                                        _createVNode(_component_ion_radio, {\n                                          slot: \"start\",\n                                          value: drug.drug_inventory_id\n                                        }, null, 8, [\"value\"])\n                                      ]),\n                                      _: 2\n                                    }, 1024))\n                                  }), 128 /* KEYED_FRAGMENT */)),\n                                  _hoisted_5,\n                                  _createVNode(_component_ion_item, null, {\n                                    default: _withId(() => [\n                                      _createVNode(_component_ion_label, null, {\n                                        default: _withId(() => [\n                                          _hoisted_6\n                                        ]),\n                                        _: 1\n                                      }),\n                                      _createVNode(_component_ion_radio, {\n                                        slot: \"start\",\n                                        value: \"other\"\n                                      })\n                                    ]),\n                                    _: 1\n                                  }),\n                                  _createVNode(_component_ion_item, null, {\n                                    default: _withId(() => [\n                                      _createVNode(_component_ion_label, null, {\n                                        default: _withId(() => [\n                                          _hoisted_7\n                                        ]),\n                                        _: 1\n                                      }),\n                                      _createVNode(_component_ion_radio, {\n                                        slot: \"start\",\n                                        value: \"drug\"\n                                      })\n                                    ]),\n                                    _: 1\n                                  })\n                                ]),\n                                _: 1\n                              }, 8, [\"modelValue\"]))\n                            : _createCommentVNode(\"\", true)\n                        ]),\n                        _: 1\n                      })\n                    ]),\n                    _hoisted_8\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withId(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withId(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.closeModal,\n              slot: \"end\",\n              color: \"danger\"\n            }, {\n              default: _withId(() => [\n                _hoisted_9\n              ]),\n              _: 1\n            }, 8, [\"onClick\"]),\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.postSideEffects,\n              slot: \"end\",\n              disabled: !_ctx.allSelected\n            }, {\n              default: _withId(() => [\n                _hoisted_10\n              ]),\n              _: 1\n            }, 8, [\"onClick\", \"disabled\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64 /* STABLE_FRAGMENT */))\n})","\nimport { defineComponent } from 'vue'\nimport { FieldType } from \"@/components/Forms/BaseFormElements\"\nimport { Field, Option } from \"@/components/Forms/FieldInterface\"\nimport { toastWarning } from \"@/utils/Alerts\"\nimport { AdherenceService } from \"@/apps/ART/services/adherence_service\"\nimport EncounterMixinVue from '../../../../views/EncounterMixin.vue'\nimport Validation from \"@/components/Forms/validations/StandardValidations\"\nimport HisDate from \"@/utils/Date\"\nimport { isEmpty } from 'lodash'\nexport default defineComponent({\n    mixins: [EncounterMixinVue],\n    data: () => ({\n        adherence: {} as any,\n        drugObs: [] as any,\n        askReasonForPoorAdherence: false,\n        calculationAgreementObs: [] as any,\n    }),\n    methods: {\n        async saveAdherence() {\n            await this.adherence.createEncounter()\n            const data = await Promise.all([...this.drugObs, ...this.calculationAgreementObs])\n            const obs = await this.adherence.saveObservationList(data)\n\n            if (!obs) return toastWarning('Unable to save patient observations')\n        },\n        buildAdherenceReport(data: any) {\n            const lastVisit = this.adherence.getReceiptDate()\n            const daysElapsed = this.adherence.calcTimeElapsed(lastVisit, 'day')\n            const timeElapse = ` Last visit: ${HisDate.toStandardHisDisplayFormat(lastVisit)} \n                (${daysElapsed} Days Elapsed)`\n            const rowColors = [{ indexes: [0, 3, 6], class: 'adherence-col-bg' }]\n            const cellColors: any = []\n            const columns = [timeElapse]\n            const rows = [\n                ['Prescription'],\n                ['Tabs given'],\n                ['Tabs per'],\n                ['Tabs remaining'],\n                ['Expected'],\n                ['Actual (counted)'],\n                ['Adherence'],\n                ['Doses missed/ Unaccounted for'],\n                ['Doses consumed'],\n                ['Art Adherence']\n            ]        \n            data.forEach((order: any, index: number) => {\n                const frequency = this.formatFrequency(order.frequency)\n                const expectedPills = this.calcPillsExpected(order)\n                const adherence = this.adherence.calculateAdherence(\n                    order.quantity, order.pillsBrought, expectedPills\n                )\n                const adherenceStatus = this.adherence.isAdherenceGood(adherence) \n                    ? 'Good adherence' \n                    : 'Explore problem'\n                const unAccountedDoses = this.adherence.calculateUnaccountedOrMissed(\n                    expectedPills, order.pillsBrought\n                )\n                columns.push(order.drug.name)\n                rows[0].push('')\n                rows[1].push(order.quantity)\n                rows[2].push(`${order.equivalent_daily_dose} <b>${frequency}</b>`)\n                rows[3].push('')\n                rows[4].push(expectedPills < 0 ? 0 : expectedPills)\n                rows[5].push(order.pillsBrought)\n                rows[6].push('')\n                rows[7].push(unAccountedDoses)\n                rows[8].push(`${adherence}%`)\n                rows[9].push(adherenceStatus)\n\n                cellColors.push({ \n                    index: index+1,\n                    row: 9, \n                    class: adherenceStatus.match(/good/i) ? 'adherence-txt-good' : 'adherence-txt-bad' \n                })\n            })\n            return [\n                { \n                    label: 'Selected Medication', \n                    value:'Table', \n                    other: { columns, rows, rowColors, cellColors }\n                }      \n            ]\n        },\n        formatFrequency(frequency: string) {\n            return `${frequency}`.match(/qod/i) \n                    ? 'QOD'\n                    : `${frequency}`.match(/weekly/i) \n                    ? 'QW'\n                    : frequency\n        },\n        calcPillsExpected(d: any) {\n            return this.adherence.calculateExpected(\n                d.quantity, \n                d.equivalent_daily_dose, \n                d.order.start_date,\n                this.formatFrequency(d.frequency) as 'QOD' | 'QW'\n            )\n        },\n        getAdherenceFields(checkDrugsBefore=false): Array<Field> {\n            return [\n                {\n                    id: 'pills_brought',\n                    helpText: 'Pills remaining (brought to clinic)',\n                    type: FieldType.TT_ADHERENCE_INPUT,\n                    init: async () => {\n                        this.adherence = new AdherenceService(this.patientID, this.providerID)\n                        await this.adherence.loadPreviousDrugs()\n                        return true\n                    },\n                    condition: () => checkDrugsBefore ? this.adherence.receivedDrugsBefore() : true,\n                    validation: (val: any) => {\n                        if (Validation.required(val)) return ['No drugs available']\n\n                        const empty = val.map((i: Option) => i.value === '')\n                        \n                        return  empty.some(Boolean) ? ['Some values are missing'] : null\n                    },\n                    unload: async (data: any) => {\n                        this.drugObs = []\n                        data.forEach(async(val: Option) => {\n                            const {drug, order } = val.other\n                            const data = { ...val.other, pillsBrought: val.value }\n                            const adherence = this.adherence.calculateAdherence(\n                                data.quantity, data.pillsBrought, this.calcPillsExpected(data)\n                            )\n                            this.drugObs.push(\n                                this.adherence.buildAdherenceObs(order.order_id, drug.drug_id, adherence)\n                            )\n                            this.drugObs.push(\n                                this.adherence.buildPillCountObs(order.order_id, val.value)\n                            )\n\n                            if (!this.askReasonForPoorAdherence) {\n                                this.askReasonForPoorAdherence = !this.adherence.isAdherenceGood(data)\n                            }\n                        })\n                    },\n                    options: (fdata: any) => {\n                        if (!isEmpty(fdata.pills_brought)) {\n                            return fdata.pills_brought\n                        }\n                        return this.adherence.getLastDrugs().map((data: any) => ({\n                            label: data.drug.name,\n                            value: '',\n                            other: {\n                                ...data\n                            }\n                        }))\n                    }\n                },\n                {\n                    id: \"adherence_report\",\n                    helpText: \"ART adherence\",\n                    type: FieldType.TT_TABLE_VIEWER,\n                    condition: () => checkDrugsBefore ? this.adherence.receivedDrugsBefore() : true,\n                    options: (d: any) => this.buildAdherenceReport(\n                        d.pills_brought.map((i: Option) => ({ \n                            ...i.other, pillsBrought: i.value\n                        }))\n                    ),\n                    config: {\n                        hiddenFooterBtns: [\n                            'Clear'\n                        ]\n                    }\n                },\n                {\n                    id: \"agree_with_calculation\",\n                    helpText: \"Agree with adherence calculation\",\n                    type: FieldType.TT_SELECT,\n                    condition: () => this.askReasonForPoorAdherence,\n                    validation: (val: Option) => Validation.required(val),\n                    unload: ({ value }: Option) => {\n                        this.calculationAgreementObs = [ this.adherence.buildValueCoded(\n                            'Reason for poor treatment adherence', value\n                        )]\n                    },\n                    options: () => [\n                        { label: 'Yes', value: 'Yes' },\n                        { label: 'No', value: 'No' }\n                    ]\n                }\n            ]\n        }\n    }\n})\n","import { render } from \"./VLReminderModal.vue?vue&type=template&id=10a26cd2&scoped=true&ts=true\"\nimport script from \"./VLReminderModal.vue?vue&type=script&lang=ts\"\nexport * from \"./VLReminderModal.vue?vue&type=script&lang=ts\"\n\nimport \"./VLReminderModal.vue?vue&type=style&index=0&id=10a26cd2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-10a26cd2\"]])\n\nexport default __exports__","import { render } from \"./SideEffectsModal.vue?vue&type=template&id=546674a2&scoped=true&ts=true\"\nimport script from \"./SideEffectsModal.vue?vue&type=script&lang=ts\"\nexport * from \"./SideEffectsModal.vue?vue&type=script&lang=ts\"\n\nimport \"./SideEffectsModal.vue?vue&type=style&index=0&id=546674a2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-546674a2\"]])\n\nexport default __exports__","import { render } from \"./Consultation.vue?vue&type=template&id=0270bd6d&ts=true\"\nimport script from \"./Consultation.vue?vue&type=script&lang=ts\"\nexport * from \"./Consultation.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VLReminderModal.vue?vue&type=style&index=0&id=10a26cd2&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SideEffectsModal.vue?vue&type=style&index=0&id=546674a2&scoped=true&lang=css\"","import script from \"./AdherenceMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./AdherenceMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}