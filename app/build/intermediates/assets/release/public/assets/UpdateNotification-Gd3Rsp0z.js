import{d as u,f,K as i,W as m,O as p,aJ as _,_ as v,r as h,o as V,x as w,u as c,v as C,b as N,w as b,z as k,a3 as A,a4 as I,A as d}from"./index-ru8RXlaa.js";import{R as U}from"./ReleaseNotes-TKUyoXBE.js";const g=u({components:{IonButton:f},props:{checkInterval:{type:Number,default:3e4}},setup(e){const o=i(!1),t=i(""),a=new m;setInterval(async()=>{if(!o.value){const s=await a.getHeadVersion(),n=a.getActiveCoreVersion();s!="-"&&s!=n&&(t.value=s,o.value=!0)}},e.checkInterval);async function r(){(await p.create({component:U,backdropDismiss:!0,cssClass:"large-modal",componentProps:{app:_.getActiveApp(),onCloseAction:()=>{a.setActiveVersion(t.value),location.reload(),p.dismiss()}}})).present()}return{onVersionUpdate:r,newVersion:t,hasUpdate:o}}}),l=e=>(A("data-v-f8c7fed7"),e=e(),I(),e),y={key:0,id:"update-notification"},S=l(()=>d("br",null,null,-1)),x=l(()=>d("br",null,null,-1));function B(e,o,t,a,r,s){const n=h("ion-button");return e.hasUpdate?(V(),w("div",y,[c(C(e.newVersion)+" ",1),S,c(" New Updates and fixes are available "),x,N(n,{onClick:e.onVersionUpdate,color:"success",size:"large"},{default:b(()=>[c(" Update Now!! ")]),_:1},8,["onClick"])])):k("",!0)}const D=v(g,[["render",B],["__scopeId","data-v-f8c7fed7"]]);export{D as default};
