var m=Object.defineProperty;var h=(a,e,t)=>e in a?m(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var o=(a,e,t)=>(h(a,typeof e!="symbol"?e+"":e,t),t);import{bB as n,ca as d}from"./index-ru8RXlaa.js";class x extends n{constructor(){super();o(this,"org");o(this,"initializeArvRefillReportTables");this.org="pepfar",this.initializeArvRefillReportTables=!0}initArvRefillPeriod(t){this.initializeArvRefillReportTables=t}setOrg(t){this.org=t}getClinicTxRtt(){return this.getReport("programs/".concat(this.programID,"/reports/clinic_tx_rtt"))}getTxMMDClientLevelData(t){const r=d.parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,program_id:this.programID,date:this.date,org:this.org}),s="tx_mmd_client_level_data?".concat(r);return n.postJson(s,{patient_ids:t})}remapTxClientLevelData(t){return t.map(r=>{let s=null;const p=[];for(const g in r)Object.values(r[g]).forEach(l=>{for(const _ in l){const i=l[_];s||(s={id:i.arv_number,dob:i.birthdate,dispenseDate:i.start_date}),p.push({name:i.drug_name,quantity:i.quantity,dose:i.dose_per_day})}});return{...s,drugs:p}})}getTxCurrMMDReport(t,r){return this.getReport("arv_refill_periods",{org:this.org,min_age:"".concat(t),max_age:"".concat(r),initialize_tables:"".concat(this.initializeArvRefillReportTables)})}getTxMlReport(){return this.getReport("tx_ml")}getTxNewReport(){return this.getReport("programs/".concat(this.programID,"/reports/tx_new"))}getTxRttReport(){return this.getReport("tx_rtt")}getMaternalStatus(t){const r=d.parameterizeObjToString({start_date:this.startDate,end_date:this.endDate,date:this.date,program_id:this.programID,report_definition:"pepfar"});return n.postJson("vl_maternal_status?".concat(r),{patient_ids:t})}}export{x as T};
