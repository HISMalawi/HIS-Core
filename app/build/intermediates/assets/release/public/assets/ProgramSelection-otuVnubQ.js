import{d as D,ak as I,aj as S,C as $,g as V,f as N,h as B,ab as A,H as E,_ as F,r as s,o,c as u,w as n,F as d,v as l,u as p,b as r,y as _,x as i,z as f,A as e,a3 as H,a4 as z}from"./index-ru8RXlaa.js";import{_ as L}from"./FieldMixin.vue_vue_type_script_lang-voLYpScQ.js";import{V as j}from"./ViewPort-LUNlto_Q.js";const x=D({name:"HisSelect",components:{ViewPort:j,IonCol:I,IonRow:S,IonLabel:$,IonList:V,IonButton:N,IonItem:B},mixins:[L],watch:{clear(t){t&&(this.activeProgram={},this.$emit("onClear"))}},data:()=>({listData:[],activeProgram:{}}),mounted(){this.init()},activated(){this.init()},computed:{states(){return A.isEmpty(this.activeProgram)?[]:this.activeProgram.other.programStates}},methods:{async init(){this.$emit("onFieldActivated",this),this.listData=await this.options(this.fdata)},formatDate(t){return t?E.toStandardHisDisplayFormat(t):"N/A"},async onselect(t){if(this.activeProgram=t,this.onValue&&!await this.onValue(t,this)){this.activeProgram={};return}this.$emit("onValue",t)}}}),R=t=>(H("data-v-980849f0"),t=t(),z(),t),T={class:"view-port-content"},q={key:0,style:{textAlign:"center"}},G={key:1,class:"his-sm-text his-table"},J=R(()=>e("tr",null,[e("th",null,"State"),e("th",null,"State Date"),e("th",null,"End Date"),e("th",null,"Actions")],-1));function K(t,v,M,O,Q,U){const g=s("ion-label"),k=s("ion-item"),b=s("ion-list"),h=s("ion-col"),w=s("ion-button"),y=s("ion-row"),P=s("view-port");return o(),u(P,null,{default:n(()=>[e("div",T,[r(y,null,{default:n(()=>[r(h,{size:"4"},{default:n(()=>[r(b,null,{default:n(()=>[(o(!0),i(d,null,_(t.listData,(a,c)=>(o(),u(k,{class:"his-sm-text",color:a.label===t.activeProgram.label?"primary":"",key:c,onClick:m=>t.onselect(a),detail:""},{default:n(()=>[r(g,null,{default:n(()=>[p(l(a.label),1)]),_:2},1024)]),_:2},1032,["color","onClick"]))),128))]),_:1})]),_:1}),r(h,{size:"8"},{default:n(()=>[t.activeProgram.label&&t.states.length<=0?(o(),i("h1",q," Program has no states ")):f("",!0),t.activeProgram.label&&t.states.length>0?(o(),i("table",G,[J,(o(!0),i(d,null,_(t.states,(a,c)=>(o(),i("tr",{key:c},[e("td",null,l(a.name),1),e("td",null,l(a.startDate),1),e("td",null,l(a.endDate||"N/A"),1),e("td",null,[(o(!0),i(d,null,_(a.actions,(m,C)=>(o(),u(w,{key:C,color:m.color,onClick:W=>m.action(t.activeProgram,c)},{default:n(()=>[p(l(m.name),1)]),_:2},1032,["color","onClick"]))),128))])]))),128))])):f("",!0)]),_:1})]),_:1})])]),_:1})}const tt=F(x,[["render",K],["__scopeId","data-v-980849f0"]]);export{tt as default};
