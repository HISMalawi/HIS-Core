import{d as S,au as T,x as V,I as N,E as w,v as x,s as E,C as K,D as P,av as $,al as B,j as y,a3 as H,aw as U,Y as L,ap as M,e as C,af as O,ax as R,ay as z,az as A,_ as D,M as n,o as d,c as _,w as t,m as s,b as p,X as k}from"./index-VkXRcily.js";const F=S({name:"HC location",components:{BarcodeInput:T,IonContent:V,IonHeader:N,IonPage:w,IonTitle:x,IonToolbar:E,IonButton:K,IonFooter:P,HisKeyboard:$},setup(){const{activePlatformProfile:e}=B(),o=y(""),l=y(""),f=H(()=>e.value.scanner===A.CAMERA_SCANNER);async function r(){o.value.includes("$")||(o.value+="$");const a=await L.getJson("locations/".concat(o.value));if(M.isEmpty(a))C("Invalid location");else{const u=a;sessionStorage.userLocation=u.name;try{await O().setLocation()}catch(m){return C("Unable to set facility UUID. Please try again!")}R.push("/")}l.value=o.value,o.value=""}function b(a){o.value=a}function i(a){o.value=z(a,o.value),console.log("barcode",o.value)}async function c(a){o.value=a,await r()}return{onbarcodeText:b,onScan:c,onKbClick:i,searchLocation:r,useVirtualKeyboard:f,clearValue:l,barcodeText:o,NUMBERS:U}}});function j(e,o,l,f,r,b){const i=n("ion-title"),c=n("ion-toolbar"),a=n("ion-header"),u=n("barcode-input"),m=n("ion-content"),g=n("his-keyboard"),v=n("ion-button"),h=n("ion-footer"),I=n("ion-page");return d(),_(I,null,{default:t(()=>[s(a,{translucent:!0},{default:t(()=>[s(c,null,{default:t(()=>[s(i,null,{default:t(()=>[p("Scan work-station location")]),_:1})]),_:1})]),_:1}),s(m,{class:"ion-padding-top"},{default:t(()=>[s(u,{class:"his-card",clearValue:e.clearValue,virtualText:e.barcodeText,onOnValue:e.onbarcodeText,onOnScan:e.onScan},null,8,["clearValue","virtualText","onOnValue","onOnScan"])]),_:1}),e.useVirtualKeyboard?(d(),_(g,{key:0,kbConfig:e.NUMBERS,onKeyPress:e.onKbClick},null,8,["kbConfig","onKeyPress"])):k("",!0),s(h,null,{default:t(()=>[s(c,{color:"dark"},{default:t(()=>[s(v,{color:"danger",size:"large","router-link":"/login"},{default:t(()=>[p(" Cancel ")]),_:1}),e.barcodeText?(d(),_(v,{key:0,slot:"end",color:"success",size:"large",onClick:e.searchLocation},{default:t(()=>[p(" Next ")]),_:1},8,["onClick"])):k("",!0)]),_:1})]),_:1})]),_:1})}const W=D(F,[["render",j],["__scopeId","data-v-3f50a6e8"]]);export{W as default};
