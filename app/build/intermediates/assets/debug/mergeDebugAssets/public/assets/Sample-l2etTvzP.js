import{d as I,r as D,o as h,c as v,w as i,a as t,t as n,b as u,P as w,e as A,p as x,f as L,g as T,h as k,i as B,R as O,O as j,_ as F,j as R,L as V,J as E,k as g,l as q,m as r,u as l,n as y,q as P,F as $,I as G,s as N,v as H,x as U,y as J,z as M,A as Y,B as z,C as S,D as Q,E as W}from"./index-VkXRcily.js";const K={style:{"font-size":"42px",width:"100%"}},X={style:{display:"flex","justify-content":"flex-end",width:"100%"}},Z={style:{display:"flex","justify-content":"space-between",width:"100%"}},tt=t("span",{style:{color:"white","background-color":"black"}},[t("b",null,"STATUS AT ART INITIATION")],-1),et={style:{width:"100%"}},nt=t("b",null,"RFS:",-1),at={style:{display:"flex","justify-content":"space-between",width:"100%"}},st={style:{"margin-right":"10px"}},it=t("b",null,"TB:",-1),ot=t("b",null,"KS:",-1),lt={style:{display:"flex","justify-content":"space-between",width:"100%"}},rt=t("b",null,"Height:",-1),dt=t("b",null,"Weight:",-1),ut=t("b",null,"Preg:",-1),ct={style:{display:"flex","justify-content":"space-between","border-bottom":"3px solid black",width:"100%"}},_t=t("b",null,"1st + Test:",-1),pt=t("b",null,"Init Age:",-1),ht=t("div",{style:{width:"100%","padding-top":"10px"}},[t("b",null,"STAGE DEFINING CONDITIONS")],-1),ft={class:"ion-margin-top",style:{width:"100%"}},mt=I({__name:"ArtInitiationLbl",props:{patientID:Number,onFinish:{type:Object,required:!0}},setup(o){const d=o,e=D({arv:"MOH-ARV-14856",cd4:"CD4 count <= 750",rfs:"CD4 count <= 250",dsa:"01/Jan/2022",tb:"Pulmonary tuberculosis (current)",ks:"No",weight:"80.0",height:"170.0",preg:"N/A",testDate:"01/Jan/2012",initAge:"23",drugs:"Rifapentine, CPT, Vitamin B6, INH, TD"});async function a(){return d.onFinish(),!0}return(f,s)=>(h(),v(w,{onStartPrinting:a},{default:i(()=>[t("div",K,[t("div",X,[t("span",null,[t("b",null,n(e.arv),1)])]),t("div",Z,[tt,t("span",null,"(DSA: "+n(e.dsa)+")",1)]),t("div",et,[t("span",null,[nt,u(" "+n(e.rfs),1)])]),t("div",at,[t("span",st,[it,u(" "+n(e.tb),1)]),t("span",null,[ot,u(" "+n(e.ks),1)])]),t("div",lt,[t("span",null,[rt,u(" "+n(e.height),1)]),t("span",null,[dt,u(" "+n(e.weight),1)]),t("span",null,[ut,u(" "+n(e.preg),1)])]),t("div",ct,[t("span",null,[_t,u(" "+n(e.testDate),1)]),t("span",null,[pt,u(" "+n(e.initAge),1)])]),ht,t("div",ft,[t("span",null,n(e.drugs),1)])])]),_:1}))}}),c=o=>(x("data-v-8b891891"),o=o(),L(),o),bt=c(()=>t("span",null,"PATIENT DETAILS",-1)),gt=c(()=>t("span",{class:"space"},null,-1)),yt={style:{width:"100%"}},It=c(()=>t("td",null,"Name:",-1)),vt=c(()=>t("td",null,"DOB:",-1)),Dt=c(()=>t("td",null,"Phone: ",-1)),wt=c(()=>t("td",null,"Addr:",-1)),Tt=c(()=>t("td",null,"Guard:",-1)),Pt={style:{"margin-top":"2%"}},$t=c(()=>t("span",null,"TI:",-1)),Nt={style:{margin:"10px"}},St=c(()=>t("span",null,"FUP:",-1)),At={style:{margin:"7px"}},xt={style:{"margin-top":"2%"}},Lt=I({__name:"PatientDemographicLbl",props:{patientID:Number,onFinish:{type:Object,required:!0}},setup(o){const d=o,e=D({name:"",arv:"",gender:"",birthdate:"",phone:"",address:"",guardian:"",isTI:"",fup:"(Phone only)",currentDateTime:""});async function a(){var b;const s=parseInt("".concat(d.patientID)),m=await T.findByID(s),_=new T(m);e.name=_.getFullName(),e.gender=_.getGender(),e.birthdate=k(_.getBirthdate()),e.phone=_.getPhoneNumber(),e.address=_.getHomeDistrict(),e.currentDateTime=B().format("dddd, DD/MMM/YYYY");const p=await O.getGuardianDetails(s);e.guardian=p!=null&&p.length?"".concat(p[0].name):"None",e.isTI=(b=await j.getFirstValueCoded(s,"Ever received ART"))!=null?b:"No"}async function f(){try{return await a(),d.onFinish(),!1}catch(s){console.error(s),A("Unable to print patient demographics")}return d.onFinish(),!1}return(s,m)=>(h(),v(w,{onStartPrinting:f},{default:i(()=>[t("div",null,[t("div",null,[bt,gt,t("span",null,n(e.arv),1)]),t("table",yt,[t("tr",null,[It,t("td",null,n(e.name)+" ("+n(e.gender)+")",1)]),t("tr",null,[vt,t("td",null,n(e.birthdate),1)]),t("tr",null,[Dt,t("td",null,n(e.phone),1)]),t("tr",null,[wt,t("td",null,n(e.address),1)]),t("tr",null,[Tt,t("td",null,n(e.guardian),1)])]),t("div",Pt,[t("div",null,[$t,t("span",Nt,n(e.isTI),1)]),t("div",null,[St,t("span",At,n(e.fup),1)])]),t("div",xt,[t("small",null,"Printed on: "+n(e.currentDateTime),1)])])]),_:1}))}}),Ft=F(Lt,[["__scopeId","data-v-8b891891"]]),C=o=>(x("data-v-294aa0af"),o=o(),L(),o),Ct=C(()=>t("div",{style:{padding:"1%"}},null,-1)),kt=C(()=>t("svg",{id:"barcode"},null,-1)),Bt=I({__name:"LocationLbl",props:{locationID:{type:Number,required:!0},onFinish:{type:Object,required:!0}},setup(o){const d=R(""),e=o;async function a(){const s=await V.getLocation(e.locationID);d.value=s.name,E("#barcode",s.location_id,{height:120,width:7,displayValue:!1})}async function f(){try{return await a(),e.onFinish(),!0}catch(s){console.error(s),A("Unable to print")}return e.onFinish(),!1}return(s,m)=>(h(),v(w,{onStartPrinting:f},{default:i(()=>[t("div",null,[t("div",null,n(d.value),1),Ct,kt])]),_:1}))}}),Ot=F(Bt,[["__scopeId","data-v-294aa0af"]]),Rt=I({__name:"Sample",setup(o){const d=D({"Art status at initiation":{params:{timeout:8e3,patient_id:776},action:a=>g(mt,{patientID:a.patient_id},a.timeout)},"ART Patient Summary":{params:{timeout:8e3,patient_id:776},action:a=>g(Ft,{patientID:a.patient_id},a.timeout)},"Print Location":{params:{timeout:8e3,location_id:701},action:a=>g(Ot,{locationID:a.location_id},a.timeout)},"Print Patient label":{params:{timeout:8e3,patient_id:71,useQrCode:"false"},action:function(a){g(q,{patientID:a.patient_id,useQrCode:a.useQrCode==="true"},a.timeout)}}});function e(a,f,s){d[a].params[f]=s}return(a,f)=>(h(),v(l(W),null,{default:i(()=>[r(l(G),null,{default:i(()=>[r(l(N),null,{default:i(()=>[r(l(H),null,{default:i(()=>[u("All patient labels")]),_:1})]),_:1})]),_:1}),r(l(U),null,{default:i(()=>[r(l(J),null,{default:i(()=>[(h(!0),y($,null,P(d,(s,m)=>(h(),y("div",{style:{margin:"2%"},class:"his-card",key:m},[t("div",null,[t("b",null,n(m),1)]),(h(!0),y($,null,P(s.params,(_,p)=>(h(),y("div",{key:p},[r(l(M),null,{default:i(()=>[r(l(Y),null,{default:i(()=>[t("b",null,n(p),1)]),_:2},1024),r(l(z),{value:_,onIonChange:b=>e(m,p,b.detail.value)},null,8,["value","onIonChange"])]),_:2},1024)]))),128)),t("div",null,[r(l(S),{style:{width:"100%"},onClick:_=>s.action(s.params)},{default:i(()=>[u("Print")]),_:2},1032,["onClick"])])]))),128))]),_:1})]),_:1}),r(l(Q),null,{default:i(()=>[r(l(N),{color:"dark"},{default:i(()=>[r(l(S),{size:"large",color:"success","router-link":"/",slot:"end"},{default:i(()=>[u(" Finish ")]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Rt as default};
