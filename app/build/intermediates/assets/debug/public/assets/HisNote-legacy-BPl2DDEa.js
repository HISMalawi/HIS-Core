System.register(["./index-legacy-D4xeCsjU.js","./FieldMixin.vue_vue_type_script_lang-legacy-Cv4IAfFV.js"],(function(t,e){"use strict";var a,i,s,l,o,n,d,r,u,h,c,p,v,y,b,f,m,w,_,x,g;return{setters:[t=>{a=t.d,i=t.bp,s=t.s,l=t.dx,o=t.dy,n=t.af,d=t.aj,r=t.as,u=t.A,h=t.B,c=t.o,p=t.f,v=t.a,y=t.w,b=t.h,f=t.F,m=t.g,w=t.e,_=t.t,x=t.aD},t=>{g=t._}],execute:function(){var e=document.createElement("style");e.textContent=".input_display[data-v-33e15592]{background:#fff;font-size:1.3em;height:20vh}#view-port[data-v-33e15592]{height:53vh}.del_btn[data-v-33e15592],.enter_btn[data-v-33e15592],.clear_btn[data-v-33e15592],.caps_btn[data-v-33e15592]{width:10vw!important}.key__button[data-v-33e15592]{box-sizing:border-box;font-size:1.4em;width:8vw;height:9vh;border-color:#f2f2f2;border-style:solid;text-shadow:0 .5px 1px #777,0 2px 6px #f2f2f2;border-width:1px;border-radius:10px!important;-webkit-box-shadow:var(--his-card-primary-shadow-webkit);-moz-box-shadow:var(--his-card-primary-shadow-moz);box-shadow:var(--his-card-primary-shadow)}\n",document.head.appendChild(e);const k=a({components:{ViewPort:i,IonButton:s,IonTextarea:l},mixins:[g],data:()=>({value:"",capsOn:!1,layout:o}),computed:{readonly:()=>"HIS_KEYBOARD_ONLY"===n().activePlatformProfile.value.keyboard},mounted(){this.init()},activated(){this.init()},methods:{async init(){this.$emit("onFieldActivated",this),await this.setDefaultValue()},async setDefaultValue(){if(this.defaultValue&&!this.value){const t=await this.defaultValue(this.fdata,this.cdata);t&&(d.isPlainObject(t)?(this.emitValue(t),this.value=t.value.toString()):(this.value=t,this.emitValue({label:t,value:t})))}},updateKeyboardCaps(t=!1){this.layout=this.layout.map((e=>e.map((e=>t?e.toUpperCase():e.toLowerCase()))))},async emitValue(t){this.onValue&&!(await this.onValue(t))||(this.value=t.label,this.$emit("onValue",t))},async onKbValue(t){await this.emitValue({label:t,value:t})},async keypress(t){const e=r(this.capsOn?t.toUpperCase():t.toLowerCase(),this.value);if(e.match(/caps/i))return this.capsOn=!this.capsOn,void this.updateKeyboardCaps(this.capsOn);await this.emitValue({label:e,value:e})}},watch:{clear(){this.value=""}}}),V={class:"his-floating-keyboard"},C={class:"his-floating-keyboard-content"},O={style:{width:"99.9%"}};t("default",u(k,[["render",function(t,e,a,i,s,l){const o=h("ion-textarea"),n=h("view-port"),d=h("ion-button");return c(),p(f,null,[v(n,{showFull:!1},{default:y((()=>[v(o,{readonly:t.readonly,value:t.value,style:{width:"100%"},onIonInput:e[0]||(e[0]=e=>e.detail.value?t.emitValue({label:e.detail.value,value:e.detail.value}):null),placeholder:"Start typing....",class:"input_display"},null,8,["readonly","value"])])),_:1}),b("div",V,[b("div",C,[b("table",O,[(c(!0),p(f,null,m(t.layout,((e,a)=>(c(),p("tr",{key:a},[(c(!0),p(f,null,m(e,((e,a)=>(c(),p("td",{key:a},[v(d,{style:{"text-transform":"none"},strong:"",onClick:a=>t.keypress(e),class:x(`key__button ${e.toLowerCase()}_btn`)},{default:y((()=>[w(_(e),1)])),_:2},1032,["onClick","class"])])))),128))])))),128))])]),v(d,{onClick:e[1]||(e[1]=e=>t.keypress("space")),strong:"",style:{width:"100%"},shape:"round",size:"large"},{default:y((()=>[w(" Space ")])),_:1})])],64)}],["__scopeId","data-v-33e15592"]]))}}}));
