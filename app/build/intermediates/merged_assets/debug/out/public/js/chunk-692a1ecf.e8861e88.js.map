{"version":3,"sources":["webpack:///./src/components/VisitInformation.vue?e3d3","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/components/InformationHeader.vue","webpack:///./src/components/MastercardDetails.vue","webpack:///./src/components/VisitInformation.vue","webpack:///./src/apps/ART/views/Mastercard.vue","webpack:///./src/components/InformationHeader.vue?a47d"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_information_header","_resolveComponent","_component_visit_information","_component_ion_content","_component_his_footer","_component_ion_page","_openBlock","_createBlock","style","default","_withCtx","_createVNode","items","patientCardInfo","numberOfColumns","onAddGuardian","addGuardian","onUpdate","updateDemographics","onUpdateARVNumber","updateARVNumber","getVisitDates","getPatientVisitDates","onOnPrint","printLabel","_","btns","_withId","_withScopeId","_pushScopeId","_hoisted_1","_hoisted_2","width","display","justifyContent","fontSize","margin","padding","_popScopeId","_component_ion_item","_component_ion_list","_component_multi_column_view","entries","_Fragment","_renderList","option","key","label","_toDisplayString","other","editable","onClick","$event","value","innerHTML","defineComponent","name","components","MultiColumnView","props","icon","required","type","Object","Number","emits","setup","emit","entry","category","attribute","__exports__","class","_component_report_table","asyncRows","getRows","columns","config","tableConfig","_createTextVNode","_component_ion_title","_component_ion_toolbar","_component_ion_header","_component_ion_button","_component_ion_footer","title","visitData","closeModal","slot","InformationHeader","String","methods","modalController","dismiss","tdStyles","border","textAlign","thStyles","fontWeight","ReportTable","data","showIndex","cssClasses","table","thTxt","Function","date","$emit","showMore","formatAdherence","vals","isArray","f","j","forEach","element","joinData","join","capitalize","val","charAt","toUpperCase","slice","error","camelCase","split","visitDates","map","item","pillsDispensed","drugs","pills_given","d","quantity","moreVisitData","keys","push","HisDate","toStandardHisDisplayFormat","match","tdBtn","td","weight","regimen","outcome","create","component","MastercardDetails","backdropDismiss","cssClass","componentProps","present","IonPage","IonContent","VisitInformation","HisFooter","isBDE","currentDate","sessionDate","nextTask","patientId","programID","patient","patientProgram","programCardInfo","encounters","medications","labOrders","activeVisitDate","encountersCardItems","medicationCardItems","labOrderCardItems","alertCardItems","guardians","computed","visitDatesTitle","this","length","watch","$route","params","parseInt","patient_id","init","deep","immediate","EncounterService","getEncounters","fetchPatient","getGuardian","getPatientCardInfo","getFinishBtn","relationship","RelationshipService","getGuardianDetails","r","relationshipType","$router","path","query","source","toString","color","size","visible","async","confirmation","alertConfirmation","Patientservice","findByID","getProp","prop","dates","getPatientVisits","getExtras","y","Promise","all","programInfo","ProgramService","getCurrentProgramInformation","drugInformation","getMastercardDrugInformation","onActiveVisitDate","dateOfTest","ObservationService","getAll","value_datetime","placeOfTest","getFirstValueText","startDate","isEmpty","TI","getFirstValueCoded","agreesToFollowUp","reasonForStarting","getArvNumber","getNationalID","getGivenName","getFamilyName","getAge","getGender","getCurrentVillage","getAttribute","getInitialWeight","getInitialHeight","getInitialBMI","getTBStats","stats","modal","taskParams","getObj","program","visitDate","patientID","PatientPrintoutService","printVisitSummaryLbl"],"mappings":"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","file":"js/chunk-692a1ecf.e8861e88.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VisitInformation.vue?vue&type=style&index=0&id=2d39ef92&scoped=true&lang=css\"","import { toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\" Close \")\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ion_title = _resolveComponent(\"ion-title\")\n  const _component_ion_toolbar = _resolveComponent(\"ion-toolbar\")\n  const _component_ion_header = _resolveComponent(\"ion-header\")\n  const _component_information_header = _resolveComponent(\"information-header\")\n  const _component_ion_content = _resolveComponent(\"ion-content\")\n  const _component_ion_button = _resolveComponent(\"ion-button\")\n  const _component_ion_footer = _resolveComponent(\"ion-footer\")\n\n  return (_openBlock(), _createBlock(_Fragment, null, [\n    _createVNode(_component_ion_header, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_title, null, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(_ctx.title), 1 /* TEXT */)\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_content, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_information_header, { items: _ctx.visitData }, null, 8, [\"items\"])\n      ]),\n      _: 1\n    }),\n    _createVNode(_component_ion_footer, null, {\n      default: _withCtx(() => [\n        _createVNode(_component_ion_toolbar, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_ion_button, {\n              onClick: _ctx.closeModal,\n              slot: \"end\"\n            }, {\n              default: _withCtx(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ], 64 /* STABLE_FRAGMENT */))\n}","\nimport { defineComponent } from \"vue\";\nimport HisDate from \"@/utils/Date\";\nimport { Encounter } from \"@/interfaces/encounter\";\nimport { Option } from \"@/components/Forms/FieldInterface\";\nimport { Patient } from \"@/interfaces/patient\";\nimport { Patientservice } from \"@/services/patient_service\";\nimport { ObservationService } from \"@/services/observation_service\";\nimport InformationHeader from \"@/components/InformationHeader.vue\";\nimport VisitInformation from \"@/components/VisitInformation.vue\";\nimport MastercardDetails from \"@/components/MastercardDetails.vue\";\nimport HisFooter from \"@/components/HisDynamicNavFooter.vue\";\nimport { isArray, isEmpty } from \"lodash\";\nimport { IonPage, IonContent, modalController } from \"@ionic/vue\";\nimport { EncounterService } from \"@/services/encounter_service\";\nimport { RelationshipService } from \"@/services/relationship_service\";\nimport { alertConfirmation } from \"@/utils/Alerts\";\nimport { ProgramService } from \"@/services/program_service\";\nimport { PatientPrintoutService } from \"@/services/patient_printout_service\";\nimport { NavBtnInterface } from \"@/components/HisDynamicNavFooterInterface\";\n\nexport default defineComponent({\n  components: {\n    IonPage,\n    IonContent,\n    VisitInformation,\n    InformationHeader,\n    HisFooter,\n  },\n  data: () => ({\n    isBDE: false as boolean,\n    currentDate: \"\",\n    sessionDate: \"\",\n    nextTask: {} as any,\n    patientId: 0 as any,\n    programID: 0,\n    patient: {} as any,\n    patientProgram: {} as Array<Option>,\n    patientCardInfo: [] as any,\n    programCardInfo: [] as Array<Option> | [],\n    encounters: [] as Array<Encounter>,\n    medications: [] as any,\n    labOrders: [] as any,\n    visitDates: [] as Array<Option> as any,\n    activeVisitDate: \"\" as string | number,\n    encountersCardItems: [] as Array<Option>,\n    medicationCardItems: [] as Array<Option>,\n    labOrderCardItems: [] as Array<Option>,\n    alertCardItems: [] as Array<Option>,\n    btns: [] as Array<NavBtnInterface>,\n    guardians: \"\",\n  }),\n  computed: {\n    visitDatesTitle(): string {\n      return `${this.visitDates.length} Visits`;\n    },\n  },\n  watch: {\n    $route: {\n      async handler({ params }: any) {\n        if (!params) return;\n\n        this.patientId = parseInt(params.patient_id);\n\n        if (this.patientId) this.init();\n      },\n      deep: true,\n      immediate: true,\n    },\n    async activeVisitDate(date: string) {\n      this.encounters = await EncounterService.getEncounters(this.patientId, {\n        date,\n      });\n    },\n  },\n  methods: {\n    async init() {\n      this.patient = await this.fetchPatient(this.patientId);\n      this.guardians = await this.getGuardian();\n      this.patientCardInfo = await this.getPatientCardInfo(this.patient);\n      this.btns.push(this.getFinishBtn());\n    },\n    async getGuardian() {\n      const relationship = await RelationshipService.getGuardianDetails(\n        this.patientId\n      );\n      return relationship\n        .map((r: any) => {\n          return ` ${r.name} (${r.relationshipType})`;\n        })\n        .join(\" \");\n    },\n    updateDemographics(attribute: string) {\n      this.$router.push({\n        path: \"/patient/registration\",\n        query: {\n          'edit_person': this.patientId,\n          'person_attribute': attribute,\n        },\n      });\n    },\n    addGuardian() {\n      this.$router.push({\n        path: `/guardian/registration/${this.patientId}`,\n        query: {\n          source: this.$route.name?.toString(),\n        },\n      });\n    },\n    updateARVNumber() {\n      this.$router.push({name: \"Edit ARV Number\"})\n    },\n    getFinishBtn(): NavBtnInterface {\n      return {\n        name: \"Finish\",\n        color: \"success\",\n        size: \"large\",\n        slot: \"end\",\n        visible: true,\n        onClick: async () => {\n          const confirmation = await alertConfirmation(\n            \"Are you sure you want to exit?\"\n          );\n          if (confirmation)\n            return this.$router.push(`/patient/dashboard/${this.patientId}`);\n        },\n      };\n    },\n    async fetchPatient(patientId: number | string) {\n      const patient: Patient = await Patientservice.findByID(patientId);\n      return patient ? new Patientservice(patient) : {};\n    },\n    getProp(data: any, prop: string): string {\n      return prop in data ? data[prop]() : \"-\";\n    },\n    async getPatientVisitDates() {\n      const dates = await Patientservice.getPatientVisits(this.patientId, true);\n      const f = dates.map(async (date: string) => {\n        const d = await this.getExtras(date);\n        return {\n          label: HisDate.toStandardHisDisplayFormat(date),\n          value: date,\n          data: d,\n        };\n      });\n      const y = await Promise.all(f);\n      return y;\n    },\n    async getExtras(date: any) {\n      const programInfo = await ProgramService.getCurrentProgramInformation(\n        this.patientId, date\n      );\n      const drugInformation = await ProgramService.getMastercardDrugInformation(\n        this.patientId, date\n      );\n      return { ...programInfo, drugs: drugInformation };\n    },\n    onActiveVisitDate(data: Option) {\n      this.activeVisitDate = data.value;\n    },\n\n    async getPatientCardInfo(patient: Patientservice) {\n      const { toStandardHisDisplayFormat } = HisDate;\n      let dateOfTest = await ObservationService.getAll(\n        this.patientId,\n        \"Confirmatory HIV test date\"\n      );\n      if (dateOfTest) {\n        dateOfTest = toStandardHisDisplayFormat(dateOfTest[0].value_datetime);\n      }\n      const placeOfTest = await ObservationService.getFirstValueText(\n        this.patientId,\n        \"Confirmatory HIV test location\"\n      );\n\n      let startDate = await ObservationService.getAll(\n        this.patientId,\n        \"Date ART started\"\n      );\n\n      startDate = !isEmpty(startDate)\n        ? toStandardHisDisplayFormat(startDate[0].value_datetime)\n        : \"N/A\";\n\n      const TI = await ObservationService.getFirstValueCoded(\n        this.patientId,\n        \"Ever received ART\"\n      );\n      const agreesToFollowUp = await ObservationService.getFirstValueCoded(\n        this.patientId,\n        \"Agrees to followup\"\n      );\n      const reasonForStarting = await ObservationService.getFirstValueCoded(\n        this.patientId,\n        \"Reason for ART eligibility\"\n      );\n\n      return [\n        { \n          label: \"ARV Number\", \n          value: this.patient.getArvNumber(),\n          other: {\n            editable: true,\n            category: \"arv_number\"\n          }\n        },\n        { label: \"National Patient ID\", value: patient.getNationalID() },\n        {\n          label: \"Given Name\",\n          value: patient.getGivenName(),\n          other: {\n            editable: true,\n            attribute: \"given_name\",\n            category: \"demographics\",\n          },\n        },\n        {\n          label: \"Family Name\",\n          value: patient.getFamilyName(),\n          other: {\n            editable: true,\n            attribute: \"family_name\",\n            category: \"demographics\",\n          },\n        },\n        {\n          label: \"Age\",\n          value: patient.getAge(),\n          other: {\n            editable: true,\n            attribute: \"year_birth_date\",\n            category: \"demographics\",\n          },\n        },\n        {\n          label: \"Sex\",\n          value: patient.getGender(),\n          other: {\n            editable: true,\n            attribute: \"gender\",\n            category: \"demographics\",\n          },\n        },\n        {\n          label: \"Location\",\n          value: patient.getCurrentVillage(),\n          other: {\n            editable: true,\n            attribute: \"home_region\",\n            category: \"demographics\",\n          },\n        },\n        { label: \"Landmark\", value: patient.getAttribute(19) },\n        {\n          label: \"Guardian\",\n          value: this.guardians ? this.guardians : \"add\",\n          other: {\n            editable: !this.guardians,\n            attribute: \"\",\n            category: \"guardian\",\n          },\n        },\n        { label: \"Init W(KG)\", value: await patient.getInitialWeight() },\n        { label: \"Init H(CM)\", value: await patient.getInitialHeight() },\n        { label: \"BMI(CM)\", value: await patient.getInitialBMI() },\n        { label: \"TI\", value: TI },\n        { label: \"Agrees to follow up\", value: agreesToFollowUp },\n        { label: \"Reason for starting ART\", value: reasonForStarting },\n        { label: \"HIV test date\", value: `${dateOfTest ? dateOfTest : \"\"}` },\n        { label: \"HIV test place\", value: `${placeOfTest ? placeOfTest : \"\"}` },\n        { label: \"Date of starting first line ART\", value: startDate },\n        ...(await this.getTBStats()),\n      ] as Option[];\n    },\n\n    async getTBStats(): Promise<Option[]> {\n      const stats = await ObservationService.getFirstValueCoded(\n        this.patientId,\n        \"Who stages criteria present\"\n      );\n      return [\n        {\n          label: \"Pulmonary TB within the last 2 years\",\n          value: stats && stats.match(/last/i) ? \"Yes\" : \"N/A\",\n        },\n        {\n          label: \"Extra pulmonary TB (EPTB)\",\n          value: stats && stats.match(/eptb/i) ? \"Yes\" : \"N/A\",\n        },\n        {\n          label: \"Pulmonary TB (current)\",\n          value: stats && stats.match(/current/i) ? \"Yes\" : \"N/A\",\n        },\n        {\n          label: \"Kaposi's sarcoma:\",\n          value: stats && stats.match(/kepos/i) ? \"Yes\" : \"N/A\",\n        },\n      ];\n    },\n\n    async openModal(items: any, title: string, component: any) {\n      const date = HisDate.toStandardHisDisplayFormat(\n        this.activeVisitDate.toString()\n      );\n      const modal = await modalController.create({\n        component: component,\n        backdropDismiss: false,\n        cssClass: \"custom-modal\",\n        componentProps: {\n          items,\n          title: `${title}: ${date}`,\n          taskParams: {\n            patient: this.patient.getObj(),\n            program: this.patientProgram,\n            visitDate: this.activeVisitDate,\n            patientID: this.patientId,\n          },\n        },\n      });\n      modal.present();\n    },\n    printLabel(date: any) {\n      new PatientPrintoutService(this.patientId).printVisitSummaryLbl(date);\n    }\n  }\n});\n","import { render } from \"./InformationHeader.vue?vue&type=template&id=94355f20&scoped=true&ts=true\"\nimport script from \"./InformationHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./InformationHeader.vue?vue&type=script&lang=ts\"\n\nimport \"./InformationHeader.vue?vue&type=style&index=0&id=94355f20&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-94355f20\"]])\n\nexport default __exports__","import { render } from \"./MastercardDetails.vue?vue&type=template&id=e64b3c78&ts=true\"\nimport script from \"./MastercardDetails.vue?vue&type=script&lang=ts\"\nexport * from \"./MastercardDetails.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./VisitInformation.vue?vue&type=template&id=2d39ef92&scoped=true&ts=true\"\nimport script from \"./VisitInformation.vue?vue&type=script&lang=ts\"\nexport * from \"./VisitInformation.vue?vue&type=script&lang=ts\"\n\nimport \"./VisitInformation.vue?vue&type=style&index=0&id=2d39ef92&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d39ef92\"]])\n\nexport default __exports__","import { render } from \"./Mastercard.vue?vue&type=template&id=3d52c2c8&ts=true\"\nimport script from \"./Mastercard.vue?vue&type=script&lang=ts\"\nexport * from \"./Mastercard.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./InformationHeader.vue?vue&type=style&index=0&id=94355f20&scoped=true&lang=css\""],"sourceRoot":""}