(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2792cee2"],{5713:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("1c74"),a=i("8158");class r extends n["e"]{constructor(){super()}static createAddress(e,t,i){return this.postJson("addresses",{address_type:e,addresses_name:t,parent_location:i})}static getFacilities(e={}){return super.getJson("/locations",e)}static async getSpecialistClinics(){const e=await a["a"].getConceptID("Specialist clinic");return super.getJson("/concept_set",{id:e})}static getRegions(){return super.getJson("/regions")}static getDistricts(e){return super.getJson("/districts",{region_id:e,page_size:1e3})}static getVillages(e,t=""){return super.getJson("/villages",{traditional_authority_id:e,name:t})}static getTraditionalAuthorities(e,t=""){return super.getJson("/traditional_authorities",{district_id:e,name:t})}}},b805:function(e,t,i){"use strict";i.r(t);var n=i("7a23");function a(e,t,i,a,r,s){const o=Object(n["resolveComponent"])("his-standard-form");return Object(n["openBlock"])(),Object(n["createBlock"])(o,{cancelDestinationPath:e.cancelDestination,fields:e.fields,onFinishAction:e.onSubmit},null,8,["cancelDestinationPath","fields","onFinishAction"])}var r=i("9441"),s=i("7365"),o=i("cc6f");class c extends o["a"]{constructor(e,t){super(e,80,t)}}var l=i("2706"),u=i("d95e"),d=i("e86e"),p=i("b5e4"),f=Object(n["defineComponent"])({components:{HisStandardForm:r["a"]},mixins:[s["a"]],data:()=>({receptionService:{}}),watch:{ready:{async handler(e){e&&(this.receptionService=new c(this.patient.getID(),this.providerID),this.fields=this.getFields())},immediate:!0,deep:!0}},methods:{async onSubmit(e,t){const i=await this.receptionService.createEncounter();if(!i)return Object(p["e"])("Unable to create registration encounter");const n=await this.resolveObs({...t}),a=await this.receptionService.saveObservationList(n);if(!a)return Object(p["e"])("Unable to save observations");this.$router.push("/registration/encounters/patient_services/"+this.patientID)},getFields(){return[{id:"referral",helpText:"Is the Patient a Referral Case From Another Health Facility?",type:u["b"].TT_SELECT,validation:e=>l["a"].required(e),computedValue:e=>({obs:this.receptionService.buildValueCoded("Is patient referred?",e.value)}),options:()=>[{label:"Yes",value:"Yes"},{label:"No",value:"No"}]},{id:"referring_facility_name",helpText:"Referred from",type:u["b"].TT_SELECT,validation:e=>l["a"].required(e),computedValue:({label:e})=>({obs:this.receptionService.buildValueText("Referred from",e)}),condition:e=>"Yes"===e.referral.value,options:(e,t="")=>Object(d["b"])(t),config:{showKeyboard:!0,isFilterDataViaApi:!0}}]}}}),h=i("6b0d"),b=i.n(h);const g=b()(f,[["render",a]]);t["default"]=g},e86e:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return s})),i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return c})),i.d(t,"a",(function(){return l})),i.d(t,"f",(function(){return u})),i.d(t,"g",(function(){return d}));var n=i("5713"),a=i("2ef0");async function r(e=""){const t=await n["a"].getFacilities({name:e});return t.filter(e=>!Object(a["isEmpty"])(e)).map(e=>({label:e.name,value:e.location_id,other:e}))}async function s(e=""){const t=await n["a"].getFacilities({name:e,tag:"Facility adult sections"});return t.map(e=>({label:e.name,value:e.name,other:e}))}async function o(){const e=await n["a"].getSpecialistClinics();return e.map(e=>({label:e.name,value:e.name,other:e}))}async function c(){const e=await n["a"].getRegions();return e.map(e=>({label:e.name,value:e.region_id,other:e}))}async function l(e){const t=await n["a"].getDistricts(e);return t.map(e=>({label:e.name,value:e.district_id,other:e}))}async function u(e,t=""){const i=await n["a"].getTraditionalAuthorities(e,t);return i.map(e=>({label:e.name,value:e.traditional_authority_id,other:e}))}async function d(e,t=""){const i=await n["a"].getVillages(e,t);return i.map(e=>({label:e.name,value:e.village_id,other:e}))}}}]);
//# sourceMappingURL=chunk-2792cee2.d3eca702.js.map