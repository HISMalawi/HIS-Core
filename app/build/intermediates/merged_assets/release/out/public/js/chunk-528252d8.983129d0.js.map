{"version":3,"sources":["webpack:///./node_modules/eslint-loader/index.js","webpack:///./node_modules/vue-loader-v16/dist/templateLoader.js","webpack:///./node_modules/cache-loader/dist/cjs.js","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMIS17.vue","webpack:///./src/apps/OPD/views/reports/moh/HMIS/HMISTemplate.vue","webpack:///./src/apps/OPD/views/reports/ReportMixin.vue","webpack:///./src/apps/OPD/views/reports/moh/MOHReportHeader.vue"],"names":["HMISReportService","OpdReportService","constructor","regenerate","setRegenerate","requestHMIS15","getReport","request","requestHMIS17","renderResults","params","all","count","key","value","Object","entries","temp","condition","item","id","name","total","totalPatientIds","key1","value1","conditionDetails","length","push","getCSVString","IDSRConditionsObj","CSVString","row","IDSRReportService","requestIDSRWeekly","requestIDSRMonthly","lessThanFiveYears","lessThanFiveYearsPatientIds","greaterThanEqualFiveYears","greaterThanEqualFiveYearsPatientIds","epiWeeks","epiWeeksObj","Service","getJson","reverse","forEach","dates","split","startDate","endDate","txt","start","end","months","_payload","monthandyear","startandendmonths","trim","_hoisted_1","_hoisted_2","_createVNode","render","_ctx","_cache","$props","$setup","$data","$options","_component_ion_loading","_resolveComponent","_component_his_standard_form","_component_hmis_header","_component_hmis_template","_component_ion_content","_component_his_footer","_component_ion_page","_openBlock","_createBlock","_Fragment","isLoading","message","reportReady","_createCommentVNode","onOnFinish","onPeriod","skipSummary","fields","default","_withCtx","componentKey","reportName","ref","periodLabel","periodDates","clinicName","totalOPDVisits","TotalOPDVisits","onDrillDown","hmis15Data","_","btns","defineComponent","mixins","ReportMixinVue","components","IonLoading","HmisHeader","HmisTemplate","HisStandardForm","HisFooter","IonPage","IonContent","data","formData","computedFormData","reportID","getLocationName","created","getBtns","getDateDurationFields","methods","form","config","report","setStartDate","HisDate","toStandardHisFormat","start_date","setEndDate","end_date","getReportPeriod","hmis","visits","getClinicRegistrations","error","console","log","size","slot","color","visible","onClick","rep","$refs","onDownload","exportToCustomPDF","$router","path","__exports__","class","style","_component_report_table","columns","rows","tableCssTheme","ReportTable","conditions","table","thTxt","props","Conditions","buildRows","dayjs","format","getCoreVersion","getApiVersion","getSiteUUID","csvData","Blob","type","reportTitle","quarter","navigator","msSaveBlob","link","document","createElement","href","window","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","td","textAlign","buildRow","patientIds","tdLink","watch","immediate","handler","period","customFileName","drillDownCache","toDate","date","toStandardHisDisplayFormat","confirmPatient","patient","title","printW","open","content","getElementById","write","innerHTML","setTimeout","print","close","conditionName","isEmpty","rowParser","Promise","ids","map","personDetails","Patientservice","findByID","getGivenName","getFamilyName","getGender","getAge","getPhoneNumber","getCurrentDistrict","getCurrentVillage","getClosestLandmark","tdBtn","modalController","dismiss","drilldownData","asyncRows","modal","create","component","DrilldownTable","cssClass","componentProps","showFilters","rowsPerPage","paginated","showReportStamp","footerColor","onFinish","present","getDefaultDrillDownTable","tableRows","index","defaultRow","getArvNumber","tdDate","getBirthdate","toString","runTableDrill","drill","values","getEpiweeksFields","helpText","FieldType","TT_SELECT","validation","val","Validation","required","options","getReportEpiWeeks","items","q","label","moment","other","getMonthlyFields","getReportMonths","useQuarter","setCustomQuarterPeriod","maxQuarter","minDate","maxDate","getSessionDate","quarters","getReportQuarters","generateDateFields","f","estimation","allowUnknown","computeValue","unload","d","s","c","String","reportparams","Number","rangeLabel","range","this","colspan","sortable","exportable","mounted","initTable","tableHeaders","LA_TYPES","one","two","three","four","NCD_TYPES","MENTAL_HEALTH_DIAGNOSIS","super","epiweek","programID","getProgramID","getPatientsWithNIDs","getDrugsGivenWithoutPrescription","getDrugsGivenWithPrescription","getDiagnosis","url","getDiagnosisByAddress","getLaPrescriptions","printLaReport","printService","PrintoutService","keys","v","i","printLbl","Url","parameterizeObjToString","getDateIntervalPeriod","setEpiWeek","buildRequest","payload","minDuration","year","getCurrentYear"],"mappings":"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","file":"js/chunk-528252d8.983129d0.js","sourcesContent":["import { Service } from \"@/services/service\";\nimport HisDate from \"@/utils/Date\"\nimport { PrintoutService } from '@/services/printout_service';\nimport Url from \"@/utils/Url\";\n\nexport interface QuarterInterface {\n    name: string;\n    start: string;\n    end: string;\n}\n\nexport const AGE_GROUPS = [\n    '0-5 months', '6-11 months',\n    '12-23 months', '2-4 years', \n    '5-9 years', '10-14 years', \n    '15-17 years', '18-19 years', \n    '20-24 years', '25-29 years', \n    '30-34 years', '35-39 years', \n    '40-44 years', '45-49 years', \n    '50 plus years'\n]\n\nexport const OTHER_AGE_GROUPS = [\n    '<1 year', '1-4 years',\n    '5-9 years', '10-14 years',\n    '15-19 years', '20-24 years',\n    '25-29 years', '30-34 years',\n    '35-39 years', '40-44 years',\n    '45-49 years', '50 plus years'\n]\n\nexport const LA_TYPES: Record<string, string> = {\n    one: 'AL 1', \n    two: 'AL 2', \n    three: 'AL 3', \n    four: 'LA 4'\n}\n\nexport const NCD_TYPES = [\n    'Diabetes',\n    'Hypertension',\n    'Stroke',\n    'Suspected cancer',\n    'Confirmed cancer',\n    'Palliative cancer',\n    'Asthma',\n    'Depression',\n    'Acute psychosis',\n    'Chronic psychosis',\n    'Epilepsy'\n]\n\nexport const MENTAL_HEALTH_DIAGNOSIS = [\n    'Organic mental disorder (Chronic)',\n    'Organic mental disorder (acute)',\n    'Alcohol use mental disorder',\n    'Drug use mental disorder',\n    'Schizophrenia',\n    'Acute and transient psychotic disorder',\n    'Schizo-affective disorder',\n    'Mood-affective disorder (MANIC)',\n    'Mood-affective disorder (BIPOLAR)',\n    'Mood-affective disorder (DEPRESSION)',\n    'Anxiety disorder',\n    'Stress reaction adjustment disorder',\n    'Dissociative conversion disorder',\n    'Somatoform disorder',\n    'Puerperal mental disorder',\n    'Personality/Behaviour disorder',\n    'Mental retardation',\n    'Psychological mental disorder',\n    'Hyperkinetic conduct disorder',\n    'Epilepsy'\n]\n\nexport class OpdReportService extends Service {\n    programID: number;\n    startDate: string;\n    endDate: string;\n    date: string;\n    epiweek: string;\n    constructor() {\n        super()\n        this.endDate = ''\n        this.startDate = ''\n        this.epiweek = ''\n        this.date = Service.getSessionDate()\n        this.programID = Service.getProgramID()\n    }\n\n    getPatientsWithNIDs() {\n        return this.getReport('with_nids')\n    }\n\n    getClinicRegistrations(){\n        return this.getReport('registration');\n    }\n\n    getDrugsGivenWithoutPrescription() {\n        return this.getReport('drugs_given_without_prescription')\n    }\n\n    getDrugsGivenWithPrescription() {\n        return this.getReport('drugs_given_with_prescription')\n    }\n\n    getDiagnosis(){\n        const url = `programs/${this.programID}/reports/diagnosis`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            'date': this.date\n        })\n    }\n\n    getDiagnosisByAddress(){\n        return this.getReport('diagnosis_by_address')\n    }\n\n    getLaPrescriptions(){\n        const url = `programs/${this.programID}/reports/la_prescriptions`\n        return Service.getJson(url, {\n            'start_date': this.startDate,\n            'end_date': this.endDate,\n            \n        })\n    }\n\n    printLaReport(data: Record<string, any>){\n        const printService = new PrintoutService()\n        const url = `programs/${this.programID}/barcodes/la_report`\n        const params: Record<string, any> = {\n            \"date[start]\": this.startDate,\n            \"date[end]\": this.endDate\n        }\n        Object.keys(LA_TYPES).forEach((v, i) => {\n            i++\n            params[`${i}[prescription]`] = data[`total_la_${v}_prescribed_drugs`]\n            params[`${i}[dispensed]`] = data[`total_la_${v}_dispensed_drugs`]\n        })\n        return printService.printLbl(`${url}?${Url.parameterizeObjToString(params)}`)\n    }\n\n    getDateIntervalPeriod() {\n        return `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n    }\n\n    setStartDate(startDate: string) {\n        this.startDate = startDate\n    }  \n\n    setEndDate(endDate: string) {\n        this.endDate = endDate\n    }\n\n    setEpiWeek(epiweek: string) {\n        this.epiweek = epiweek\n    }\n\n    getReportPeriod() {\n        return this.startDate && this.endDate\n         ? `${HisDate.toStandardHisDisplayFormat(this.startDate)} - ${HisDate.toStandardHisDisplayFormat(this.endDate)}`\n         : '-'\n    }\n\n    getReport(url: string, params={}) {\n        return Service.getJson(url, this.buildRequest(params))\n    }\n\n    buildRequest(config: Record<string, any> = {}) {\n        const payload: any = {'date': this.date, 'program_id': this.programID}\n        if (this.startDate && this.endDate) {\n            payload['start_date'] = this.startDate\n            payload['end_date'] = this.endDate\n        }\n        if (this.epiweek) {\n            payload['epiweek'] = this.epiweek\n        }\n        return { ...payload, ...config }\n    }\n\n    static getReportQuarters(minDuration= 4) {\n        const quarters: Array<QuarterInterface> = []\n        let year = HisDate.getCurrentYear()\n        for(let i=0; i < minDuration; ++i) {\n            quarters.push({ name: `Q4 ${year}`, start: `${year}-10-01`, end: `${year}-12-31` })\n            quarters.push({ name: `Q3 ${year}`, start: `${year}-07-01`, end: `${year}-09-30` })\n            quarters.push({ name: `Q2 ${year}`, start: `${year}-04-01`, end: `${year}-06-30` })\n            quarters.push({ name: `Q1 ${year}`, start: `${year}-01-01`, end: `${year}-03-31` })\n            --year\n        }\n        return quarters\n    }\n\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"margin\":\"auto\",\"width\":\"95%\",\"margin-top\":\"1%\"} }\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_report_table = _resolveComponent(\"report-table\")\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_report_table, {\n      columns: _ctx.columns,\n      rows: _ctx.rows,\n      config: {tableCssTheme: _ctx.tableCssTheme}\n    }, null, 8, [\"columns\", \"rows\", \"config\"])\n  ]))\n}","\nimport { defineComponent } from 'vue'\nimport ReportTable from \"@/components/DataViews/tables/ReportDataTable.vue\"\nimport table, { ColumnInterface, RowInterface } from \"@/components/DataViews/tables/ReportDataTable\"\n\nexport default defineComponent({\n    components: { ReportTable },\n    props: {\n      clinicName: {\n        type: String,\n        default: ''\n      },\n      reportparams: {\n        type: Object,\n        required: true\n      },\n      totalOPDVisits: {\n        type: Number,\n        required: true\n      },\n      reportName: {\n        type: String,\n        required: true\n      },\n      periodLabel: {\n        type: String,\n        required: true\n      },\n      periodDates: {\n        type: String,\n        required: true\n      },\n      rangeLabel: {\n        type: String,\n        required: true\n      },\n      range: {\n        type: String,\n        required: true\n      },\n    },\n    data: function() {\n      return {\n        tableCssTheme: 'opd-report-theme',\n        rows: [] as RowInterface[][],\n        columns: [\n            [\n              table.thTxt(this.reportName, {\n                colspan: 2,\n                sortable: false,\n                exportable: false \n              })\n            ]\n        ] as ColumnInterface[][],\n      }\n    },\n    mounted() {\n      this.initTable()\n    },\n    methods: {\n      initTable() {\n        const rows: RowInterface[][] = []\n        const tableHeaders = [\n          {\n            name: 'Country:',\n            value: 'Malawi',\n          },\n          {\n            name: 'Reporting Facility Name:',\n            value: this.clinicName\n          },\n          {\n            name: this.rangeLabel+':',\n            value: this.range\n          },\n          {\n            name: this.periodLabel+':',\n            value: this.periodDates\n          },\n          {\n            name: 'Total OPD Visits:',\n            value: this.totalOPDVisits\n          }\n\n        ]\n        tableHeaders.forEach(item => {\n          if(item.name !== 'undefined:') {\n                rows.push([\n                    table.td(item.name, {style: {textAlign: 'left'}}),\n                    table.td(item.value, {style: {textAlign: 'left'}}),\n                ])\n          }\n        })\n        this.rows = rows\n      }\n    }\n  })\n  ","import { render } from \"./HMIS17.vue?vue&type=template&id=6cea49ac&ts=true\"\nimport script from \"./HMIS17.vue?vue&type=script&lang=ts\"\nexport * from \"./HMIS17.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HMISTemplate.vue?vue&type=template&id=0bcecae1&ts=true\"\nimport script from \"./HMISTemplate.vue?vue&type=script&lang=ts\"\nexport * from \"./HMISTemplate.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./ReportMixin.vue?vue&type=script&lang=ts\"\nexport * from \"./ReportMixin.vue?vue&type=script&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./MOHReportHeader.vue?vue&type=template&id=522eaa58&ts=true\"\nimport script from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\nexport * from \"./MOHReportHeader.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/andrew-dev/Projects/HIS-Core/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}